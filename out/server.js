var Gc=Object.defineProperty;var Zc=(t,e,n)=>e in t?Gc(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var C=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports);var Wo=(t,e,n)=>(Zc(t,typeof e!="symbol"?e+"":e,n),n);var Rn=C(re=>{"use strict";Object.defineProperty(re,"__esModule",{value:!0});re.thenable=re.typedArray=re.stringArray=re.array=re.func=re.error=re.number=re.string=re.boolean=void 0;function Qc(t){return t===!0||t===!1}re.boolean=Qc;function Ao(t){return typeof t=="string"||t instanceof String}re.string=Ao;function Xc(t){return typeof t=="number"||t instanceof Number}re.number=Xc;function eu(t){return t instanceof Error}re.error=eu;function Vo(t){return typeof t=="function"}re.func=Vo;function Ho(t){return Array.isArray(t)}re.array=Ho;function tu(t){return Ho(t)&&t.every(e=>Ao(e))}re.stringArray=tu;function nu(t,e){return Array.isArray(t)&&t.every(e)}re.typedArray=nu;function ru(t){return t&&Vo(t.then)}re.thenable=ru});var We=C(Mr=>{"use strict";Object.defineProperty(Mr,"__esModule",{value:!0});var Nr;function xr(){if(Nr===void 0)throw new Error("No runtime abstraction layer installed");return Nr}(function(t){function e(n){if(n===void 0)throw new Error("No runtime abstraction layer provided");Nr=n}t.install=e})(xr||(xr={}));Mr.default=xr});var Fr=C($t=>{"use strict";Object.defineProperty($t,"__esModule",{value:!0});$t.Disposable=void 0;var iu;(function(t){function e(n){return{dispose:n}}t.create=e})(iu=$t.Disposable||($t.Disposable={}))});var $o=C(_n=>{"use strict";Object.defineProperty(_n,"__esModule",{value:!0});_n.AbstractMessageBuffer=void 0;var ou=13,su=10,au=`\r
`,jr=class{constructor(e="utf-8"){this._encoding=e,this._chunks=[],this._totalLength=0}get encoding(){return this._encoding}append(e){let n=typeof e=="string"?this.fromString(e,this._encoding):e;this._chunks.push(n),this._totalLength+=n.byteLength}tryReadHeaders(){if(this._chunks.length===0)return;let e=0,n=0,r=0,i=0;e:for(;n<this._chunks.length;){let h=this._chunks[n];r=0;t:for(;r<h.length;){switch(h[r]){case ou:switch(e){case 0:e=1;break;case 2:e=3;break;default:e=0}break;case su:switch(e){case 1:e=2;break;case 3:e=4,r++;break e;default:e=0}break;default:e=0}r++}i+=h.byteLength,n++}if(e!==4)return;let a=this._read(i+r),d=new Map,v=this.toString(a,"ascii").split(au);if(v.length<2)return d;for(let h=0;h<v.length-2;h++){let m=v[h],R=m.indexOf(":");if(R===-1)throw new Error("Message header must separate key and value using :");let P=m.substr(0,R),q=m.substr(R+1).trim();d.set(P,q)}return d}tryReadBody(e){if(!(this._totalLength<e))return this._read(e)}get numberOfBytes(){return this._totalLength}_read(e){if(e===0)return this.emptyBuffer();if(e>this._totalLength)throw new Error("Cannot read so many bytes!");if(this._chunks[0].byteLength===e){let a=this._chunks[0];return this._chunks.shift(),this._totalLength-=e,this.asNative(a)}if(this._chunks[0].byteLength>e){let a=this._chunks[0],d=this.asNative(a,e);return this._chunks[0]=a.slice(e),this._totalLength-=e,d}let n=this.allocNative(e),r=0,i=0;for(;e>0;){let a=this._chunks[i];if(a.byteLength>e){let d=a.slice(0,e);n.set(d,r),r+=e,this._chunks[i]=a.slice(e),this._totalLength-=e,e-=e}else n.set(a,r),r+=a.byteLength,this._chunks.shift(),this._totalLength-=a.byteLength,e-=a.byteLength}return n}};_n.AbstractMessageBuffer=jr});var Uo=C(Ar=>{"use strict";Object.defineProperty(Ar,"__esModule",{value:!0});var cu=We(),zo=require("util"),ut=Fr(),uu=$o(),Pt=class extends uu.AbstractMessageBuffer{constructor(e="utf-8"){super(e)}emptyBuffer(){return Pt.emptyBuffer}fromString(e,n){return Buffer.from(e,n)}toString(e,n){return e instanceof Buffer?e.toString(n):new zo.TextDecoder(n).decode(e)}asNative(e,n){return n===void 0?e instanceof Buffer?e:Buffer.from(e):e instanceof Buffer?e.slice(0,n):Buffer.from(e,0,n)}allocNative(e){return Buffer.allocUnsafe(e)}};Pt.emptyBuffer=Buffer.allocUnsafe(0);var Lr=class{constructor(e){this.stream=e}onClose(e){return this.stream.on("close",e),ut.Disposable.create(()=>this.stream.off("close",e))}onError(e){return this.stream.on("error",e),ut.Disposable.create(()=>this.stream.off("error",e))}onEnd(e){return this.stream.on("end",e),ut.Disposable.create(()=>this.stream.off("end",e))}onData(e){return this.stream.on("data",e),ut.Disposable.create(()=>this.stream.off("data",e))}},Ir=class{constructor(e){this.stream=e}onClose(e){return this.stream.on("close",e),ut.Disposable.create(()=>this.stream.off("close",e))}onError(e){return this.stream.on("error",e),ut.Disposable.create(()=>this.stream.off("error",e))}onEnd(e){return this.stream.on("end",e),ut.Disposable.create(()=>this.stream.off("end",e))}write(e,n){return new Promise((r,i)=>{let a=d=>{d==null?r():i(d)};typeof e=="string"?this.stream.write(e,n,a):this.stream.write(e,a)})}end(){this.stream.end()}},Bo=Object.freeze({messageBuffer:Object.freeze({create:t=>new Pt(t)}),applicationJson:Object.freeze({encoder:Object.freeze({name:"application/json",encode:(t,e)=>{try{return Promise.resolve(Buffer.from(JSON.stringify(t,void 0,0),e.charset))}catch(n){return Promise.reject(n)}}}),decoder:Object.freeze({name:"application/json",decode:(t,e)=>{try{return t instanceof Buffer?Promise.resolve(JSON.parse(t.toString(e.charset))):Promise.resolve(JSON.parse(new zo.TextDecoder(e.charset).decode(t)))}catch(n){return Promise.reject(n)}}})}),stream:Object.freeze({asReadableStream:t=>new Lr(t),asWritableStream:t=>new Ir(t)}),console,timer:Object.freeze({setTimeout(t,e,...n){return setTimeout(t,e,...n)},clearTimeout(t){clearTimeout(t)},setImmediate(t,...e){return setImmediate(t,...e)},clearImmediate(t){clearImmediate(t)}})});function Wr(){return Bo}(function(t){function e(){cu.default.install(Bo)}t.install=e})(Wr||(Wr={}));Ar.default=Wr});var Tt=C(fe=>{"use strict";Object.defineProperty(fe,"__esModule",{value:!0});fe.stringArray=fe.array=fe.func=fe.error=fe.number=fe.string=fe.boolean=void 0;function lu(t){return t===!0||t===!1}fe.boolean=lu;function Ko(t){return typeof t=="string"||t instanceof String}fe.string=Ko;function du(t){return typeof t=="number"||t instanceof Number}fe.number=du;function fu(t){return t instanceof Error}fe.error=fu;function hu(t){return typeof t=="function"}fe.func=hu;function Yo(t){return Array.isArray(t)}fe.array=Yo;function pu(t){return Yo(t)&&t.every(e=>Ko(e))}fe.stringArray=pu});var ui=C(O=>{"use strict";Object.defineProperty(O,"__esModule",{value:!0});O.isResponseMessage=O.isNotificationMessage=O.isRequestMessage=O.NotificationType9=O.NotificationType8=O.NotificationType7=O.NotificationType6=O.NotificationType5=O.NotificationType4=O.NotificationType3=O.NotificationType2=O.NotificationType1=O.NotificationType0=O.NotificationType=O.RequestType9=O.RequestType8=O.RequestType7=O.RequestType6=O.RequestType5=O.RequestType4=O.RequestType3=O.RequestType2=O.RequestType1=O.RequestType=O.RequestType0=O.AbstractMessageSignature=O.ParameterStructures=O.ResponseError=O.ErrorCodes=void 0;var lt=Tt(),Jo;(function(t){t.ParseError=-32700,t.InvalidRequest=-32600,t.MethodNotFound=-32601,t.InvalidParams=-32602,t.InternalError=-32603,t.jsonrpcReservedErrorRangeStart=-32099,t.serverErrorStart=t.jsonrpcReservedErrorRangeStart,t.MessageWriteError=-32099,t.MessageReadError=-32098,t.ServerNotInitialized=-32002,t.UnknownErrorCode=-32001,t.jsonrpcReservedErrorRangeEnd=-32e3,t.serverErrorEnd=t.jsonrpcReservedErrorRangeEnd})(Jo=O.ErrorCodes||(O.ErrorCodes={}));var zt=class extends Error{constructor(e,n,r){super(n),this.code=lt.number(e)?e:Jo.UnknownErrorCode,this.data=r,Object.setPrototypeOf(this,zt.prototype)}toJson(){return{code:this.code,message:this.message,data:this.data}}};O.ResponseError=zt;var ce=class{constructor(e){this.kind=e}static is(e){return e===ce.auto||e===ce.byName||e===ce.byPosition}toString(){return this.kind}};O.ParameterStructures=ce;ce.auto=new ce("auto");ce.byPosition=new ce("byPosition");ce.byName=new ce("byName");var ee=class{constructor(e,n){this.method=e,this.numberOfParams=n}get parameterStructures(){return ce.auto}};O.AbstractMessageSignature=ee;var Vr=class extends ee{constructor(e){super(e,0)}};O.RequestType0=Vr;var Hr=class extends ee{constructor(e,n=ce.auto){super(e,1),this._parameterStructures=n}get parameterStructures(){return this._parameterStructures}};O.RequestType=Hr;var $r=class extends ee{constructor(e,n=ce.auto){super(e,1),this._parameterStructures=n}get parameterStructures(){return this._parameterStructures}};O.RequestType1=$r;var zr=class extends ee{constructor(e){super(e,2)}};O.RequestType2=zr;var Br=class extends ee{constructor(e){super(e,3)}};O.RequestType3=Br;var Ur=class extends ee{constructor(e){super(e,4)}};O.RequestType4=Ur;var Kr=class extends ee{constructor(e){super(e,5)}};O.RequestType5=Kr;var Yr=class extends ee{constructor(e){super(e,6)}};O.RequestType6=Yr;var Jr=class extends ee{constructor(e){super(e,7)}};O.RequestType7=Jr;var Gr=class extends ee{constructor(e){super(e,8)}};O.RequestType8=Gr;var Zr=class extends ee{constructor(e){super(e,9)}};O.RequestType9=Zr;var Qr=class extends ee{constructor(e,n=ce.auto){super(e,1),this._parameterStructures=n}get parameterStructures(){return this._parameterStructures}};O.NotificationType=Qr;var Xr=class extends ee{constructor(e){super(e,0)}};O.NotificationType0=Xr;var ei=class extends ee{constructor(e,n=ce.auto){super(e,1),this._parameterStructures=n}get parameterStructures(){return this._parameterStructures}};O.NotificationType1=ei;var ti=class extends ee{constructor(e){super(e,2)}};O.NotificationType2=ti;var ni=class extends ee{constructor(e){super(e,3)}};O.NotificationType3=ni;var ri=class extends ee{constructor(e){super(e,4)}};O.NotificationType4=ri;var ii=class extends ee{constructor(e){super(e,5)}};O.NotificationType5=ii;var oi=class extends ee{constructor(e){super(e,6)}};O.NotificationType6=oi;var si=class extends ee{constructor(e){super(e,7)}};O.NotificationType7=si;var ai=class extends ee{constructor(e){super(e,8)}};O.NotificationType8=ai;var ci=class extends ee{constructor(e){super(e,9)}};O.NotificationType9=ci;function gu(t){let e=t;return e&&lt.string(e.method)&&(lt.string(e.id)||lt.number(e.id))}O.isRequestMessage=gu;function mu(t){let e=t;return e&&lt.string(e.method)&&t.id===void 0}O.isNotificationMessage=mu;function yu(t){let e=t;return e&&(e.result!==void 0||!!e.error)&&(lt.string(e.id)||lt.number(e.id)||e.id===null)}O.isResponseMessage=yu});var St=C(dt=>{"use strict";Object.defineProperty(dt,"__esModule",{value:!0});dt.Emitter=dt.Event=void 0;var vu=We(),bu;(function(t){let e={dispose(){}};t.None=function(){return e}})(bu=dt.Event||(dt.Event={}));var li=class{add(e,n=null,r){this._callbacks||(this._callbacks=[],this._contexts=[]),this._callbacks.push(e),this._contexts.push(n),Array.isArray(r)&&r.push({dispose:()=>this.remove(e,n)})}remove(e,n=null){if(!this._callbacks)return;let r=!1;for(let i=0,a=this._callbacks.length;i<a;i++)if(this._callbacks[i]===e)if(this._contexts[i]===n){this._callbacks.splice(i,1),this._contexts.splice(i,1);return}else r=!0;if(r)throw new Error("When adding a listener with a context, you should remove it with the same context")}invoke(...e){if(!this._callbacks)return[];let n=[],r=this._callbacks.slice(0),i=this._contexts.slice(0);for(let a=0,d=r.length;a<d;a++)try{n.push(r[a].apply(i[a],e))}catch(v){vu.default().console.error(v)}return n}isEmpty(){return!this._callbacks||this._callbacks.length===0}dispose(){this._callbacks=void 0,this._contexts=void 0}},Ct=class{constructor(e){this._options=e}get event(){return this._event||(this._event=(e,n,r)=>{this._callbacks||(this._callbacks=new li),this._options&&this._options.onFirstListenerAdd&&this._callbacks.isEmpty()&&this._options.onFirstListenerAdd(this),this._callbacks.add(e,n);let i={dispose:()=>{!this._callbacks||(this._callbacks.remove(e,n),i.dispose=Ct._noop,this._options&&this._options.onLastListenerRemove&&this._callbacks.isEmpty()&&this._options.onLastListenerRemove(this))}};return Array.isArray(r)&&r.push(i),i}),this._event}fire(e){this._callbacks&&this._callbacks.invoke.call(this._callbacks,e)}dispose(){this._callbacks&&(this._callbacks.dispose(),this._callbacks=void 0)}};dt.Emitter=Ct;Ct._noop=function(){}});var pi=C(ft=>{"use strict";Object.defineProperty(ft,"__esModule",{value:!0});ft.CancellationTokenSource=ft.CancellationToken=void 0;var Go=We(),Ru=Tt(),di=St(),fi;(function(t){t.None=Object.freeze({isCancellationRequested:!1,onCancellationRequested:di.Event.None}),t.Cancelled=Object.freeze({isCancellationRequested:!0,onCancellationRequested:di.Event.None});function e(n){let r=n;return r&&(r===t.None||r===t.Cancelled||Ru.boolean(r.isCancellationRequested)&&!!r.onCancellationRequested)}t.is=e})(fi=ft.CancellationToken||(ft.CancellationToken={}));var _u=Object.freeze(function(t,e){let n=Go.default().timer.setTimeout(t.bind(e),0);return{dispose(){Go.default().timer.clearTimeout(n)}}}),wn=class{constructor(){this._isCancelled=!1}cancel(){this._isCancelled||(this._isCancelled=!0,this._emitter&&(this._emitter.fire(void 0),this.dispose()))}get isCancellationRequested(){return this._isCancelled}get onCancellationRequested(){return this._isCancelled?_u:(this._emitter||(this._emitter=new di.Emitter),this._emitter.event)}dispose(){this._emitter&&(this._emitter.dispose(),this._emitter=void 0)}},hi=class{get token(){return this._token||(this._token=new wn),this._token}cancel(){this._token?this._token.cancel():this._token=fi.Cancelled}dispose(){this._token?this._token instanceof wn&&this._token.dispose():this._token=fi.None}};ft.CancellationTokenSource=hi});var Zo=C(Ae=>{"use strict";Object.defineProperty(Ae,"__esModule",{value:!0});Ae.ReadableStreamMessageReader=Ae.AbstractMessageReader=Ae.MessageReader=void 0;var qn=We(),kt=Tt(),gi=St(),wu;(function(t){function e(n){let r=n;return r&&kt.func(r.listen)&&kt.func(r.dispose)&&kt.func(r.onError)&&kt.func(r.onClose)&&kt.func(r.onPartialMessage)}t.is=e})(wu=Ae.MessageReader||(Ae.MessageReader={}));var Pn=class{constructor(){this.errorEmitter=new gi.Emitter,this.closeEmitter=new gi.Emitter,this.partialMessageEmitter=new gi.Emitter}dispose(){this.errorEmitter.dispose(),this.closeEmitter.dispose()}get onError(){return this.errorEmitter.event}fireError(e){this.errorEmitter.fire(this.asError(e))}get onClose(){return this.closeEmitter.event}fireClose(){this.closeEmitter.fire(void 0)}get onPartialMessage(){return this.partialMessageEmitter.event}firePartialMessage(e){this.partialMessageEmitter.fire(e)}asError(e){return e instanceof Error?e:new Error(`Reader received error. Reason: ${kt.string(e.message)?e.message:"unknown"}`)}};Ae.AbstractMessageReader=Pn;var mi;(function(t){function e(n){var r;let i,a,d,v=new Map,h,m=new Map;if(n===void 0||typeof n=="string")i=n??"utf-8";else{if(i=(r=n.charset)!==null&&r!==void 0?r:"utf-8",n.contentDecoder!==void 0&&(d=n.contentDecoder,v.set(d.name,d)),n.contentDecoders!==void 0)for(let R of n.contentDecoders)v.set(R.name,R);if(n.contentTypeDecoder!==void 0&&(h=n.contentTypeDecoder,m.set(h.name,h)),n.contentTypeDecoders!==void 0)for(let R of n.contentTypeDecoders)m.set(R.name,R)}return h===void 0&&(h=qn.default().applicationJson.decoder,m.set(h.name,h)),{charset:i,contentDecoder:d,contentDecoders:v,contentTypeDecoder:h,contentTypeDecoders:m}}t.fromOptions=e})(mi||(mi={}));var yi=class extends Pn{constructor(e,n){super(),this.readable=e,this.options=mi.fromOptions(n),this.buffer=qn.default().messageBuffer.create(this.options.charset),this._partialMessageTimeout=1e4,this.nextMessageLength=-1,this.messageToken=0}set partialMessageTimeout(e){this._partialMessageTimeout=e}get partialMessageTimeout(){return this._partialMessageTimeout}listen(e){this.nextMessageLength=-1,this.messageToken=0,this.partialMessageTimer=void 0,this.callback=e;let n=this.readable.onData(r=>{this.onData(r)});return this.readable.onError(r=>this.fireError(r)),this.readable.onClose(()=>this.fireClose()),n}onData(e){for(this.buffer.append(e);;){if(this.nextMessageLength===-1){let i=this.buffer.tryReadHeaders();if(!i)return;let a=i.get("Content-Length");if(!a)throw new Error("Header must provide a Content-Length property.");let d=parseInt(a);if(isNaN(d))throw new Error("Content-Length value must be a number.");this.nextMessageLength=d}let n=this.buffer.tryReadBody(this.nextMessageLength);if(n===void 0){this.setPartialMessageTimer();return}this.clearPartialMessageTimer(),this.nextMessageLength=-1;let r;this.options.contentDecoder!==void 0?r=this.options.contentDecoder.decode(n):r=Promise.resolve(n),r.then(i=>{this.options.contentTypeDecoder.decode(i,this.options).then(a=>{this.callback(a)},a=>{this.fireError(a)})},i=>{this.fireError(i)})}}clearPartialMessageTimer(){this.partialMessageTimer&&(qn.default().timer.clearTimeout(this.partialMessageTimer),this.partialMessageTimer=void 0)}setPartialMessageTimer(){this.clearPartialMessageTimer(),!(this._partialMessageTimeout<=0)&&(this.partialMessageTimer=qn.default().timer.setTimeout((e,n)=>{this.partialMessageTimer=void 0,e===this.messageToken&&(this.firePartialMessage({messageToken:e,waitingTime:n}),this.setPartialMessageTimer())},this._partialMessageTimeout,this.messageToken,this._partialMessageTimeout))}};Ae.ReadableStreamMessageReader=yi});var Qo=C(Tn=>{"use strict";Object.defineProperty(Tn,"__esModule",{value:!0});Tn.Semaphore=void 0;var qu=We(),vi=class{constructor(e=1){if(e<=0)throw new Error("Capacity must be greater than 0");this._capacity=e,this._active=0,this._waiting=[]}lock(e){return new Promise((n,r)=>{this._waiting.push({thunk:e,resolve:n,reject:r}),this.runNext()})}get active(){return this._active}runNext(){this._waiting.length===0||this._active===this._capacity||qu.default().timer.setImmediate(()=>this.doRunNext())}doRunNext(){if(this._waiting.length===0||this._active===this._capacity)return;let e=this._waiting.shift();if(this._active++,this._active>this._capacity)throw new Error("To many thunks active");try{let n=e.thunk();n instanceof Promise?n.then(r=>{this._active--,e.resolve(r),this.runNext()},r=>{this._active--,e.reject(r),this.runNext()}):(this._active--,e.resolve(n),this.runNext())}catch(n){this._active--,e.reject(n),this.runNext()}}};Tn.Semaphore=vi});var ns=C(Ve=>{"use strict";Object.defineProperty(Ve,"__esModule",{value:!0});Ve.WriteableStreamMessageWriter=Ve.AbstractMessageWriter=Ve.MessageWriter=void 0;var Xo=We(),Bt=Tt(),Pu=Qo(),es=St(),Tu="Content-Length: ",ts=`\r
`,Cu;(function(t){function e(n){let r=n;return r&&Bt.func(r.dispose)&&Bt.func(r.onClose)&&Bt.func(r.onError)&&Bt.func(r.write)}t.is=e})(Cu=Ve.MessageWriter||(Ve.MessageWriter={}));var Cn=class{constructor(){this.errorEmitter=new es.Emitter,this.closeEmitter=new es.Emitter}dispose(){this.errorEmitter.dispose(),this.closeEmitter.dispose()}get onError(){return this.errorEmitter.event}fireError(e,n,r){this.errorEmitter.fire([this.asError(e),n,r])}get onClose(){return this.closeEmitter.event}fireClose(){this.closeEmitter.fire(void 0)}asError(e){return e instanceof Error?e:new Error(`Writer received error. Reason: ${Bt.string(e.message)?e.message:"unknown"}`)}};Ve.AbstractMessageWriter=Cn;var bi;(function(t){function e(n){var r,i;return n===void 0||typeof n=="string"?{charset:n??"utf-8",contentTypeEncoder:Xo.default().applicationJson.encoder}:{charset:(r=n.charset)!==null&&r!==void 0?r:"utf-8",contentEncoder:n.contentEncoder,contentTypeEncoder:(i=n.contentTypeEncoder)!==null&&i!==void 0?i:Xo.default().applicationJson.encoder}}t.fromOptions=e})(bi||(bi={}));var Ri=class extends Cn{constructor(e,n){super(),this.writable=e,this.options=bi.fromOptions(n),this.errorCount=0,this.writeSemaphore=new Pu.Semaphore(1),this.writable.onError(r=>this.fireError(r)),this.writable.onClose(()=>this.fireClose())}async write(e){return this.writeSemaphore.lock(async()=>this.options.contentTypeEncoder.encode(e,this.options).then(r=>this.options.contentEncoder!==void 0?this.options.contentEncoder.encode(r):r).then(r=>{let i=[];return i.push(Tu,r.byteLength.toString(),ts),i.push(ts),this.doWrite(e,i,r)},r=>{throw this.fireError(r),r}))}async doWrite(e,n,r){try{return await this.writable.write(n.join(""),"ascii"),this.writable.write(r)}catch(i){return this.handleError(i,e),Promise.reject(i)}}handleError(e,n){this.errorCount++,this.fireError(e,n,this.errorCount)}end(){this.writable.end()}};Ve.WriteableStreamMessageWriter=Ri});var rs=C(He=>{"use strict";Object.defineProperty(He,"__esModule",{value:!0});He.LRUCache=He.LinkedMap=He.Touch=void 0;var pe;(function(t){t.None=0,t.First=1,t.AsOld=t.First,t.Last=2,t.AsNew=t.Last})(pe=He.Touch||(He.Touch={}));var Sn=class{constructor(){this[Symbol.toStringTag]="LinkedMap",this._map=new Map,this._head=void 0,this._tail=void 0,this._size=0,this._state=0}clear(){this._map.clear(),this._head=void 0,this._tail=void 0,this._size=0,this._state++}isEmpty(){return!this._head&&!this._tail}get size(){return this._size}get first(){var e;return(e=this._head)===null||e===void 0?void 0:e.value}get last(){var e;return(e=this._tail)===null||e===void 0?void 0:e.value}has(e){return this._map.has(e)}get(e,n=pe.None){let r=this._map.get(e);if(!!r)return n!==pe.None&&this.touch(r,n),r.value}set(e,n,r=pe.None){let i=this._map.get(e);if(i)i.value=n,r!==pe.None&&this.touch(i,r);else{switch(i={key:e,value:n,next:void 0,previous:void 0},r){case pe.None:this.addItemLast(i);break;case pe.First:this.addItemFirst(i);break;case pe.Last:this.addItemLast(i);break;default:this.addItemLast(i);break}this._map.set(e,i),this._size++}return this}delete(e){return!!this.remove(e)}remove(e){let n=this._map.get(e);if(!!n)return this._map.delete(e),this.removeItem(n),this._size--,n.value}shift(){if(!this._head&&!this._tail)return;if(!this._head||!this._tail)throw new Error("Invalid list");let e=this._head;return this._map.delete(e.key),this.removeItem(e),this._size--,e.value}forEach(e,n){let r=this._state,i=this._head;for(;i;){if(n?e.bind(n)(i.value,i.key,this):e(i.value,i.key,this),this._state!==r)throw new Error("LinkedMap got modified during iteration.");i=i.next}}keys(){let e=this,n=this._state,r=this._head,i={[Symbol.iterator](){return i},next(){if(e._state!==n)throw new Error("LinkedMap got modified during iteration.");if(r){let a={value:r.key,done:!1};return r=r.next,a}else return{value:void 0,done:!0}}};return i}values(){let e=this,n=this._state,r=this._head,i={[Symbol.iterator](){return i},next(){if(e._state!==n)throw new Error("LinkedMap got modified during iteration.");if(r){let a={value:r.value,done:!1};return r=r.next,a}else return{value:void 0,done:!0}}};return i}entries(){let e=this,n=this._state,r=this._head,i={[Symbol.iterator](){return i},next(){if(e._state!==n)throw new Error("LinkedMap got modified during iteration.");if(r){let a={value:[r.key,r.value],done:!1};return r=r.next,a}else return{value:void 0,done:!0}}};return i}[Symbol.iterator](){return this.entries()}trimOld(e){if(e>=this.size)return;if(e===0){this.clear();return}let n=this._head,r=this.size;for(;n&&r>e;)this._map.delete(n.key),n=n.next,r--;this._head=n,this._size=r,n&&(n.previous=void 0),this._state++}addItemFirst(e){if(!this._head&&!this._tail)this._tail=e;else if(this._head)e.next=this._head,this._head.previous=e;else throw new Error("Invalid list");this._head=e,this._state++}addItemLast(e){if(!this._head&&!this._tail)this._head=e;else if(this._tail)e.previous=this._tail,this._tail.next=e;else throw new Error("Invalid list");this._tail=e,this._state++}removeItem(e){if(e===this._head&&e===this._tail)this._head=void 0,this._tail=void 0;else if(e===this._head){if(!e.next)throw new Error("Invalid list");e.next.previous=void 0,this._head=e.next}else if(e===this._tail){if(!e.previous)throw new Error("Invalid list");e.previous.next=void 0,this._tail=e.previous}else{let n=e.next,r=e.previous;if(!n||!r)throw new Error("Invalid list");n.previous=r,r.next=n}e.next=void 0,e.previous=void 0,this._state++}touch(e,n){if(!this._head||!this._tail)throw new Error("Invalid list");if(!(n!==pe.First&&n!==pe.Last)){if(n===pe.First){if(e===this._head)return;let r=e.next,i=e.previous;e===this._tail?(i.next=void 0,this._tail=i):(r.previous=i,i.next=r),e.previous=void 0,e.next=this._head,this._head.previous=e,this._head=e,this._state++}else if(n===pe.Last){if(e===this._tail)return;let r=e.next,i=e.previous;e===this._head?(r.previous=void 0,this._head=r):(r.previous=i,i.next=r),e.next=void 0,e.previous=this._tail,this._tail.next=e,this._tail=e,this._state++}}}toJSON(){let e=[];return this.forEach((n,r)=>{e.push([r,n])}),e}fromJSON(e){this.clear();for(let[n,r]of e)this.set(n,r)}};He.LinkedMap=Sn;var _i=class extends Sn{constructor(e,n=1){super(),this._limit=e,this._ratio=Math.min(Math.max(0,n),1)}get limit(){return this._limit}set limit(e){this._limit=e,this.checkTrim()}get ratio(){return this._ratio}set ratio(e){this._ratio=Math.min(Math.max(0,e),1),this.checkTrim()}get(e,n=pe.AsNew){return super.get(e,n)}peek(e){return super.get(e,pe.None)}set(e,n){return super.set(e,n,pe.Last),this.checkTrim(),this}checkTrim(){this.size>this._limit&&this.trimOld(Math.round(this._limit*this._ratio))}};He.LRUCache=_i});var cs=C(j=>{"use strict";Object.defineProperty(j,"__esModule",{value:!0});j.createMessageConnection=j.ConnectionOptions=j.CancellationStrategy=j.CancellationSenderStrategy=j.CancellationReceiverStrategy=j.ConnectionStrategy=j.ConnectionError=j.ConnectionErrors=j.LogTraceNotification=j.SetTraceNotification=j.TraceFormat=j.Trace=j.NullLogger=j.ProgressType=void 0;var is=We(),ue=Tt(),F=ui(),os=rs(),Ut=St(),wi=pi(),Kt;(function(t){t.type=new F.NotificationType("$/cancelRequest")})(Kt||(Kt={}));var Dn;(function(t){t.type=new F.NotificationType("$/progress")})(Dn||(Dn={}));var qi=class{constructor(){}};j.ProgressType=qi;var Pi;(function(t){function e(n){return ue.func(n)}t.is=e})(Pi||(Pi={}));j.NullLogger=Object.freeze({error:()=>{},warn:()=>{},info:()=>{},log:()=>{}});var ie;(function(t){t[t.Off=0]="Off",t[t.Messages=1]="Messages",t[t.Verbose=2]="Verbose"})(ie=j.Trace||(j.Trace={}));(function(t){function e(r){if(!ue.string(r))return t.Off;switch(r=r.toLowerCase(),r){case"off":return t.Off;case"messages":return t.Messages;case"verbose":return t.Verbose;default:return t.Off}}t.fromString=e;function n(r){switch(r){case t.Off:return"off";case t.Messages:return"messages";case t.Verbose:return"verbose";default:return"off"}}t.toString=n})(ie=j.Trace||(j.Trace={}));var Se;(function(t){t.Text="text",t.JSON="json"})(Se=j.TraceFormat||(j.TraceFormat={}));(function(t){function e(n){return n=n.toLowerCase(),n==="json"?t.JSON:t.Text}t.fromString=e})(Se=j.TraceFormat||(j.TraceFormat={}));var ss;(function(t){t.type=new F.NotificationType("$/setTrace")})(ss=j.SetTraceNotification||(j.SetTraceNotification={}));var Ti;(function(t){t.type=new F.NotificationType("$/logTrace")})(Ti=j.LogTraceNotification||(j.LogTraceNotification={}));var kn;(function(t){t[t.Closed=1]="Closed",t[t.Disposed=2]="Disposed",t[t.AlreadyListening=3]="AlreadyListening"})(kn=j.ConnectionErrors||(j.ConnectionErrors={}));var Ke=class extends Error{constructor(e,n){super(n),this.code=e,Object.setPrototypeOf(this,Ke.prototype)}};j.ConnectionError=Ke;var as;(function(t){function e(n){let r=n;return r&&ue.func(r.cancelUndispatched)}t.is=e})(as=j.ConnectionStrategy||(j.ConnectionStrategy={}));var Ci;(function(t){t.Message=Object.freeze({createCancellationTokenSource(n){return new wi.CancellationTokenSource}});function e(n){let r=n;return r&&ue.func(r.createCancellationTokenSource)}t.is=e})(Ci=j.CancellationReceiverStrategy||(j.CancellationReceiverStrategy={}));var Si;(function(t){t.Message=Object.freeze({sendCancellation(n,r){n.sendNotification(Kt.type,{id:r})},cleanup(n){}});function e(n){let r=n;return r&&ue.func(r.sendCancellation)&&ue.func(r.cleanup)}t.is=e})(Si=j.CancellationSenderStrategy||(j.CancellationSenderStrategy={}));var ki;(function(t){t.Message=Object.freeze({receiver:Ci.Message,sender:Si.Message});function e(n){let r=n;return r&&Ci.is(r.receiver)&&Si.is(r.sender)}t.is=e})(ki=j.CancellationStrategy||(j.CancellationStrategy={}));var Su;(function(t){function e(n){let r=n;return r&&(ki.is(r.cancellationStrategy)||as.is(r.connectionStrategy))}t.is=e})(Su=j.ConnectionOptions||(j.ConnectionOptions={}));var ke;(function(t){t[t.New=1]="New",t[t.Listening=2]="Listening",t[t.Closed=3]="Closed",t[t.Disposed=4]="Disposed"})(ke||(ke={}));function ku(t,e,n,r){let i=n!==void 0?n:j.NullLogger,a=0,d=0,v=0,h="2.0",m,R=Object.create(null),P,q=Object.create(null),k=new Map,x,A=new os.LinkedMap,K=Object.create(null),_=Object.create(null),b=ie.Off,S=Se.Text,M,$=ke.New,be=new Ut.Emitter,Rt=new Ut.Emitter,nt=new Ut.Emitter,rt=new Ut.Emitter,it=new Ut.Emitter,ot=r&&r.cancellationStrategy?r.cancellationStrategy:ki.Message;function st(p){if(p===null)throw new Error("Can't send requests with id null since the response can't be correlated.");return"req-"+p.toString()}function hn(p){return p===null?"res-unknown-"+(++v).toString():"res-"+p.toString()}function gr(){return"not-"+(++d).toString()}function mr(p,l){F.isRequestMessage(l)?p.set(st(l.id),l):F.isResponseMessage(l)?p.set(hn(l.id),l):p.set(gr(),l)}function yr(p){}function _t(){return $===ke.Listening}function pn(){return $===ke.Closed}function Me(){return $===ke.Disposed}function At(){($===ke.New||$===ke.Listening)&&($=ke.Closed,Rt.fire(void 0))}function vr(p){be.fire([p,void 0,void 0])}function br(p){be.fire(p)}t.onClose(At),t.onError(vr),e.onClose(At),e.onError(br);function gn(){x||A.size===0||(x=is.default().timer.setImmediate(()=>{x=void 0,Rr()}))}function Rr(){if(A.size===0)return;let p=A.shift();try{F.isRequestMessage(p)?wr(p):F.isNotificationMessage(p)?Vt(p):F.isResponseMessage(p)?qr(p):Pr(p)}finally{gn()}}let _r=p=>{try{if(F.isNotificationMessage(p)&&p.method===Kt.type.method){let l=st(p.params.id),s=A.get(l);if(F.isRequestMessage(s)){let f=r?.connectionStrategy,g=f&&f.cancelUndispatched?f.cancelUndispatched(s,yr):void 0;if(g&&(g.error!==void 0||g.result!==void 0)){A.delete(l),g.id=s.id,wt(g,p.method,Date.now()),e.write(g);return}}}mr(A,p)}finally{gn()}};function wr(p){if(Me())return;function l(w,E,N){let V={jsonrpc:h,id:p.id};w instanceof F.ResponseError?V.error=w.toJson():V.result=w===void 0?null:w,wt(V,E,N),e.write(V)}function s(w,E,N){let V={jsonrpc:h,id:p.id,error:w.toJson()};wt(V,E,N),e.write(V)}function f(w,E,N){w===void 0&&(w=null);let V={jsonrpc:h,id:p.id,result:w};wt(V,E,N),e.write(V)}Sr(p);let g=R[p.method],c,o;g&&(c=g.type,o=g.handler);let y=Date.now();if(o||m){let w=String(p.id),E=ot.receiver.createCancellationTokenSource(w);_[w]=E;try{let N;if(o)if(p.params===void 0){if(c!==void 0&&c.numberOfParams!==0){s(new F.ResponseError(F.ErrorCodes.InvalidParams,`Request ${p.method} defines ${c.numberOfParams} params but recevied none.`),p.method,y);return}N=o(E.token)}else if(Array.isArray(p.params)){if(c!==void 0&&c.parameterStructures===F.ParameterStructures.byName){s(new F.ResponseError(F.ErrorCodes.InvalidParams,`Request ${p.method} defines parameters by name but received parameters by position`),p.method,y);return}N=o(...p.params,E.token)}else{if(c!==void 0&&c.parameterStructures===F.ParameterStructures.byPosition){s(new F.ResponseError(F.ErrorCodes.InvalidParams,`Request ${p.method} defines parameters by position but received parameters by name`),p.method,y);return}N=o(p.params,E.token)}else m&&(N=m(p.method,p.params,E.token));let V=N;N?V.then?V.then(Q=>{delete _[w],l(Q,p.method,y)},Q=>{delete _[w],Q instanceof F.ResponseError?s(Q,p.method,y):Q&&ue.string(Q.message)?s(new F.ResponseError(F.ErrorCodes.InternalError,`Request ${p.method} failed with message: ${Q.message}`),p.method,y):s(new F.ResponseError(F.ErrorCodes.InternalError,`Request ${p.method} failed unexpectedly without providing any details.`),p.method,y)}):(delete _[w],l(N,p.method,y)):(delete _[w],f(N,p.method,y))}catch(N){delete _[w],N instanceof F.ResponseError?l(N,p.method,y):N&&ue.string(N.message)?s(new F.ResponseError(F.ErrorCodes.InternalError,`Request ${p.method} failed with message: ${N.message}`),p.method,y):s(new F.ResponseError(F.ErrorCodes.InternalError,`Request ${p.method} failed unexpectedly without providing any details.`),p.method,y)}}else s(new F.ResponseError(F.ErrorCodes.MethodNotFound,`Unhandled method ${p.method}`),p.method,y)}function qr(p){if(!Me())if(p.id===null)p.error?i.error(`Received response message without id: Error is: 
${JSON.stringify(p.error,void 0,4)}`):i.error("Received response message without id. No further error information provided.");else{let l=String(p.id),s=K[l];if(Dr(p,s),s){delete K[l];try{if(p.error){let f=p.error;s.reject(new F.ResponseError(f.code,f.message,f.data))}else if(p.result!==void 0)s.resolve(p.result);else throw new Error("Should never happen.")}catch(f){f.message?i.error(`Response handler '${s.method}' failed with message: ${f.message}`):i.error(`Response handler '${s.method}' failed unexpectedly.`)}}}}function Vt(p){if(Me())return;let l,s;if(p.method===Kt.type.method)s=f=>{let g=f.id,c=_[String(g)];c&&c.cancel()};else{let f=q[p.method];f&&(s=f.handler,l=f.type)}if(s||P)try{kr(p),s?p.params===void 0?(l!==void 0&&l.numberOfParams!==0&&l.parameterStructures!==F.ParameterStructures.byName&&i.error(`Notification ${p.method} defines ${l.numberOfParams} params but recevied none.`),s()):Array.isArray(p.params)?(l!==void 0&&(l.parameterStructures===F.ParameterStructures.byName&&i.error(`Notification ${p.method} defines parameters by name but received parameters by position`),l.numberOfParams!==p.params.length&&i.error(`Notification ${p.method} defines ${l.numberOfParams} params but received ${p.params.length} argumennts`)),s(...p.params)):(l!==void 0&&l.parameterStructures===F.ParameterStructures.byPosition&&i.error(`Notification ${p.method} defines parameters by position but received parameters by name`),s(p.params)):P&&P(p.method,p.params)}catch(f){f.message?i.error(`Notification handler '${p.method}' failed with message: ${f.message}`):i.error(`Notification handler '${p.method}' failed unexpectedly.`)}else nt.fire(p)}function Pr(p){if(!p){i.error("Received empty message.");return}i.error(`Received message which is neither a response nor a notification message:
${JSON.stringify(p,null,4)}`);let l=p;if(ue.string(l.id)||ue.number(l.id)){let s=String(l.id),f=K[s];f&&f.reject(new Error("The received response has neither a result nor an error property."))}}function Tr(p){if(!(b===ie.Off||!M))if(S===Se.Text){let l;b===ie.Verbose&&p.params&&(l=`Params: ${JSON.stringify(p.params,null,4)}

`),M.log(`Sending request '${p.method} - (${p.id})'.`,l)}else Be("send-request",p)}function Cr(p){if(!(b===ie.Off||!M))if(S===Se.Text){let l;b===ie.Verbose&&(p.params?l=`Params: ${JSON.stringify(p.params,null,4)}

`:l=`No parameters provided.

`),M.log(`Sending notification '${p.method}'.`,l)}else Be("send-notification",p)}function wt(p,l,s){if(!(b===ie.Off||!M))if(S===Se.Text){let f;b===ie.Verbose&&(p.error&&p.error.data?f=`Error data: ${JSON.stringify(p.error.data,null,4)}

`:p.result?f=`Result: ${JSON.stringify(p.result,null,4)}

`:p.error===void 0&&(f=`No result returned.

`)),M.log(`Sending response '${l} - (${p.id})'. Processing request took ${Date.now()-s}ms`,f)}else Be("send-response",p)}function Sr(p){if(!(b===ie.Off||!M))if(S===Se.Text){let l;b===ie.Verbose&&p.params&&(l=`Params: ${JSON.stringify(p.params,null,4)}

`),M.log(`Received request '${p.method} - (${p.id})'.`,l)}else Be("receive-request",p)}function kr(p){if(!(b===ie.Off||!M||p.method===Ti.type.method))if(S===Se.Text){let l;b===ie.Verbose&&(p.params?l=`Params: ${JSON.stringify(p.params,null,4)}

`:l=`No parameters provided.

`),M.log(`Received notification '${p.method}'.`,l)}else Be("receive-notification",p)}function Dr(p,l){if(!(b===ie.Off||!M))if(S===Se.Text){let s;if(b===ie.Verbose&&(p.error&&p.error.data?s=`Error data: ${JSON.stringify(p.error.data,null,4)}

`:p.result?s=`Result: ${JSON.stringify(p.result,null,4)}

`:p.error===void 0&&(s=`No result returned.

`)),l){let f=p.error?` Request failed: ${p.error.message} (${p.error.code}).`:"";M.log(`Received response '${l.method} - (${p.id})' in ${Date.now()-l.timerStart}ms.${f}`,s)}else M.log(`Received response ${p.id} without active response promise.`,s)}else Be("receive-response",p)}function Be(p,l){if(!M||b===ie.Off)return;let s={isLSPMessage:!0,type:p,message:l,timestamp:Date.now()};M.log(s)}function at(){if(pn())throw new Ke(kn.Closed,"Connection is closed.");if(Me())throw new Ke(kn.Disposed,"Connection is disposed.")}function Er(){if(_t())throw new Ke(kn.AlreadyListening,"Connection is already listening")}function Or(){if(!_t())throw new Error("Call listen() first.")}function ct(p){return p===void 0?null:p}function mn(p){if(p!==null)return p}function yn(p){return p!=null&&!Array.isArray(p)&&typeof p=="object"}function Ht(p,l){switch(p){case F.ParameterStructures.auto:return yn(l)?mn(l):[ct(l)];case F.ParameterStructures.byName:if(!yn(l))throw new Error("Recevied parameters by name but param is not an object literal.");return mn(l);case F.ParameterStructures.byPosition:return[ct(l)];default:throw new Error(`Unknown parameter structure ${p.toString()}`)}}function vn(p,l){let s,f=p.numberOfParams;switch(f){case 0:s=void 0;break;case 1:s=Ht(p.parameterStructures,l[0]);break;default:s=[];for(let g=0;g<l.length&&g<f;g++)s.push(ct(l[g]));if(l.length<f)for(let g=l.length;g<f;g++)s.push(null);break}return s}let Ue={sendNotification:(p,...l)=>{at();let s,f;if(ue.string(p)){s=p;let c=l[0],o=0,y=F.ParameterStructures.auto;F.ParameterStructures.is(c)&&(o=1,y=c);let w=l.length,E=w-o;switch(E){case 0:f=void 0;break;case 1:f=Ht(y,l[o]);break;default:if(y===F.ParameterStructures.byName)throw new Error(`Recevied ${E} parameters for 'by Name' notification parameter structure.`);f=l.slice(o,w).map(N=>ct(N));break}}else{let c=l;s=p.method,f=vn(p,c)}let g={jsonrpc:h,method:s,params:f};Cr(g),e.write(g)},onNotification:(p,l)=>{at();let s;return ue.func(p)?P=p:l&&(ue.string(p)?(s=p,q[p]={type:void 0,handler:l}):(s=p.method,q[p.method]={type:p,handler:l})),{dispose:()=>{s!==void 0?delete q[s]:P=void 0}}},onProgress:(p,l,s)=>{if(k.has(l))throw new Error(`Progress handler for token ${l} already registered`);return k.set(l,s),{dispose:()=>{k.delete(l)}}},sendProgress:(p,l,s)=>{Ue.sendNotification(Dn.type,{token:l,value:s})},onUnhandledProgress:rt.event,sendRequest:(p,...l)=>{at(),Or();let s,f,g;if(ue.string(p)){s=p;let w=l[0],E=l[l.length-1],N=0,V=F.ParameterStructures.auto;F.ParameterStructures.is(w)&&(N=1,V=w);let Q=l.length;wi.CancellationToken.is(E)&&(Q=Q-1,g=E);let se=Q-N;switch(se){case 0:f=void 0;break;case 1:f=Ht(V,l[N]);break;default:if(V===F.ParameterStructures.byName)throw new Error(`Recevied ${se} parameters for 'by Name' request parameter structure.`);f=l.slice(N,Q).map(ae=>ct(ae));break}}else{let w=l;s=p.method,f=vn(p,w);let E=p.numberOfParams;g=wi.CancellationToken.is(w[E])?w[E]:void 0}let c=a++,o;return g&&(o=g.onCancellationRequested(()=>{ot.sender.sendCancellation(Ue,c)})),new Promise((w,E)=>{let N={jsonrpc:h,id:c,method:s,params:f},V=ae=>{w(ae),ot.sender.cleanup(c),o?.dispose()},Q=ae=>{E(ae),ot.sender.cleanup(c),o?.dispose()},se={method:s,timerStart:Date.now(),resolve:V,reject:Q};Tr(N);try{e.write(N)}catch(ae){se.reject(new F.ResponseError(F.ErrorCodes.MessageWriteError,ae.message?ae.message:"Unknown reason")),se=null}se&&(K[String(c)]=se)})},onRequest:(p,l)=>{at();let s=null;return Pi.is(p)?(s=void 0,m=p):ue.string(p)?(s=null,l!==void 0&&(s=p,R[p]={handler:l,type:void 0})):l!==void 0&&(s=p.method,R[p.method]={type:p,handler:l}),{dispose:()=>{s!==null&&(s!==void 0?delete R[s]:m=void 0)}}},trace:(p,l,s)=>{let f=!1,g=Se.Text;s!==void 0&&(ue.boolean(s)?f=s:(f=s.sendNotification||!1,g=s.traceFormat||Se.Text)),b=p,S=g,b===ie.Off?M=void 0:M=l,f&&!pn()&&!Me()&&Ue.sendNotification(ss.type,{value:ie.toString(p)})},onError:be.event,onClose:Rt.event,onUnhandledNotification:nt.event,onDispose:it.event,end:()=>{e.end()},dispose:()=>{if(Me())return;$=ke.Disposed,it.fire(void 0);let p=new Error("Connection got disposed.");Object.keys(K).forEach(l=>{K[l].reject(p)}),K=Object.create(null),_=Object.create(null),A=new os.LinkedMap,ue.func(e.dispose)&&e.dispose(),ue.func(t.dispose)&&t.dispose()},listen:()=>{at(),Er(),$=ke.Listening,t.listen(_r)},inspect:()=>{is.default().console.log("inspect")}};return Ue.onNotification(Ti.type,p=>{b===ie.Off||!M||M.log(p.message,b===ie.Verbose?p.verbose:void 0)}),Ue.onNotification(Dn.type,p=>{let l=k.get(p.token);l?l(p.value):rt.fire(p)}),Ue}j.createMessageConnection=ku});var Oi=C(T=>{"use strict";Object.defineProperty(T,"__esModule",{value:!0});T.CancellationSenderStrategy=T.CancellationReceiverStrategy=T.ConnectionError=T.ConnectionErrors=T.LogTraceNotification=T.SetTraceNotification=T.TraceFormat=T.Trace=T.ProgressType=T.createMessageConnection=T.NullLogger=T.ConnectionOptions=T.ConnectionStrategy=T.WriteableStreamMessageWriter=T.AbstractMessageWriter=T.MessageWriter=T.ReadableStreamMessageReader=T.AbstractMessageReader=T.MessageReader=T.CancellationToken=T.CancellationTokenSource=T.Emitter=T.Event=T.Disposable=T.ParameterStructures=T.NotificationType9=T.NotificationType8=T.NotificationType7=T.NotificationType6=T.NotificationType5=T.NotificationType4=T.NotificationType3=T.NotificationType2=T.NotificationType1=T.NotificationType0=T.NotificationType=T.ErrorCodes=T.ResponseError=T.RequestType9=T.RequestType8=T.RequestType7=T.RequestType6=T.RequestType5=T.RequestType4=T.RequestType3=T.RequestType2=T.RequestType1=T.RequestType0=T.RequestType=T.RAL=void 0;T.CancellationStrategy=void 0;var te=ui();Object.defineProperty(T,"RequestType",{enumerable:!0,get:function(){return te.RequestType}});Object.defineProperty(T,"RequestType0",{enumerable:!0,get:function(){return te.RequestType0}});Object.defineProperty(T,"RequestType1",{enumerable:!0,get:function(){return te.RequestType1}});Object.defineProperty(T,"RequestType2",{enumerable:!0,get:function(){return te.RequestType2}});Object.defineProperty(T,"RequestType3",{enumerable:!0,get:function(){return te.RequestType3}});Object.defineProperty(T,"RequestType4",{enumerable:!0,get:function(){return te.RequestType4}});Object.defineProperty(T,"RequestType5",{enumerable:!0,get:function(){return te.RequestType5}});Object.defineProperty(T,"RequestType6",{enumerable:!0,get:function(){return te.RequestType6}});Object.defineProperty(T,"RequestType7",{enumerable:!0,get:function(){return te.RequestType7}});Object.defineProperty(T,"RequestType8",{enumerable:!0,get:function(){return te.RequestType8}});Object.defineProperty(T,"RequestType9",{enumerable:!0,get:function(){return te.RequestType9}});Object.defineProperty(T,"ResponseError",{enumerable:!0,get:function(){return te.ResponseError}});Object.defineProperty(T,"ErrorCodes",{enumerable:!0,get:function(){return te.ErrorCodes}});Object.defineProperty(T,"NotificationType",{enumerable:!0,get:function(){return te.NotificationType}});Object.defineProperty(T,"NotificationType0",{enumerable:!0,get:function(){return te.NotificationType0}});Object.defineProperty(T,"NotificationType1",{enumerable:!0,get:function(){return te.NotificationType1}});Object.defineProperty(T,"NotificationType2",{enumerable:!0,get:function(){return te.NotificationType2}});Object.defineProperty(T,"NotificationType3",{enumerable:!0,get:function(){return te.NotificationType3}});Object.defineProperty(T,"NotificationType4",{enumerable:!0,get:function(){return te.NotificationType4}});Object.defineProperty(T,"NotificationType5",{enumerable:!0,get:function(){return te.NotificationType5}});Object.defineProperty(T,"NotificationType6",{enumerable:!0,get:function(){return te.NotificationType6}});Object.defineProperty(T,"NotificationType7",{enumerable:!0,get:function(){return te.NotificationType7}});Object.defineProperty(T,"NotificationType8",{enumerable:!0,get:function(){return te.NotificationType8}});Object.defineProperty(T,"NotificationType9",{enumerable:!0,get:function(){return te.NotificationType9}});Object.defineProperty(T,"ParameterStructures",{enumerable:!0,get:function(){return te.ParameterStructures}});var Du=Fr();Object.defineProperty(T,"Disposable",{enumerable:!0,get:function(){return Du.Disposable}});var us=St();Object.defineProperty(T,"Event",{enumerable:!0,get:function(){return us.Event}});Object.defineProperty(T,"Emitter",{enumerable:!0,get:function(){return us.Emitter}});var ls=pi();Object.defineProperty(T,"CancellationTokenSource",{enumerable:!0,get:function(){return ls.CancellationTokenSource}});Object.defineProperty(T,"CancellationToken",{enumerable:!0,get:function(){return ls.CancellationToken}});var Di=Zo();Object.defineProperty(T,"MessageReader",{enumerable:!0,get:function(){return Di.MessageReader}});Object.defineProperty(T,"AbstractMessageReader",{enumerable:!0,get:function(){return Di.AbstractMessageReader}});Object.defineProperty(T,"ReadableStreamMessageReader",{enumerable:!0,get:function(){return Di.ReadableStreamMessageReader}});var Ei=ns();Object.defineProperty(T,"MessageWriter",{enumerable:!0,get:function(){return Ei.MessageWriter}});Object.defineProperty(T,"AbstractMessageWriter",{enumerable:!0,get:function(){return Ei.AbstractMessageWriter}});Object.defineProperty(T,"WriteableStreamMessageWriter",{enumerable:!0,get:function(){return Ei.WriteableStreamMessageWriter}});var ve=cs();Object.defineProperty(T,"ConnectionStrategy",{enumerable:!0,get:function(){return ve.ConnectionStrategy}});Object.defineProperty(T,"ConnectionOptions",{enumerable:!0,get:function(){return ve.ConnectionOptions}});Object.defineProperty(T,"NullLogger",{enumerable:!0,get:function(){return ve.NullLogger}});Object.defineProperty(T,"createMessageConnection",{enumerable:!0,get:function(){return ve.createMessageConnection}});Object.defineProperty(T,"ProgressType",{enumerable:!0,get:function(){return ve.ProgressType}});Object.defineProperty(T,"Trace",{enumerable:!0,get:function(){return ve.Trace}});Object.defineProperty(T,"TraceFormat",{enumerable:!0,get:function(){return ve.TraceFormat}});Object.defineProperty(T,"SetTraceNotification",{enumerable:!0,get:function(){return ve.SetTraceNotification}});Object.defineProperty(T,"LogTraceNotification",{enumerable:!0,get:function(){return ve.LogTraceNotification}});Object.defineProperty(T,"ConnectionErrors",{enumerable:!0,get:function(){return ve.ConnectionErrors}});Object.defineProperty(T,"ConnectionError",{enumerable:!0,get:function(){return ve.ConnectionError}});Object.defineProperty(T,"CancellationReceiverStrategy",{enumerable:!0,get:function(){return ve.CancellationReceiverStrategy}});Object.defineProperty(T,"CancellationSenderStrategy",{enumerable:!0,get:function(){return ve.CancellationSenderStrategy}});Object.defineProperty(T,"CancellationStrategy",{enumerable:!0,get:function(){return ve.CancellationStrategy}});var Eu=We();T.RAL=Eu.default});var Et=C(G=>{"use strict";var Ou=G&&G.__createBinding||(Object.create?function(t,e,n,r){r===void 0&&(r=n),Object.defineProperty(t,r,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,r){r===void 0&&(r=n),t[r]=e[n]}),Nu=G&&G.__exportStar||function(t,e){for(var n in t)n!=="default"&&!Object.prototype.hasOwnProperty.call(e,n)&&Ou(e,t,n)};Object.defineProperty(G,"__esModule",{value:!0});G.createMessageConnection=G.createServerSocketTransport=G.createClientSocketTransport=G.createServerPipeTransport=G.createClientPipeTransport=G.generateRandomPipeName=G.StreamMessageWriter=G.StreamMessageReader=G.SocketMessageWriter=G.SocketMessageReader=G.IPCMessageWriter=G.IPCMessageReader=void 0;var Dt=Uo();Dt.default.install();var Fe=Oi(),ds=require("path"),xu=require("os"),Mu=require("crypto"),Nn=require("net");Nu(Oi(),G);var Ni=class extends Fe.AbstractMessageReader{constructor(e){super(),this.process=e;let n=this.process;n.on("error",r=>this.fireError(r)),n.on("close",()=>this.fireClose())}listen(e){return this.process.on("message",e),Fe.Disposable.create(()=>this.process.off("message",e))}};G.IPCMessageReader=Ni;var xi=class extends Fe.AbstractMessageWriter{constructor(e){super(),this.process=e,this.errorCount=0;let n=this.process;n.on("error",r=>this.fireError(r)),n.on("close",()=>this.fireClose)}write(e){try{return typeof this.process.send=="function"&&this.process.send(e,void 0,void 0,n=>{n?(this.errorCount++,this.handleError(n,e)):this.errorCount=0}),Promise.resolve()}catch(n){return this.handleError(n,e),Promise.reject(n)}}handleError(e,n){this.errorCount++,this.fireError(e,n,this.errorCount)}end(){}};G.IPCMessageWriter=xi;var ht=class extends Fe.ReadableStreamMessageReader{constructor(e,n="utf-8"){super(Dt.default().stream.asReadableStream(e),n)}};G.SocketMessageReader=ht;var pt=class extends Fe.WriteableStreamMessageWriter{constructor(e,n){super(Dt.default().stream.asWritableStream(e),n),this.socket=e}dispose(){super.dispose(),this.socket.destroy()}};G.SocketMessageWriter=pt;var En=class extends Fe.ReadableStreamMessageReader{constructor(e,n){super(Dt.default().stream.asReadableStream(e),n)}};G.StreamMessageReader=En;var On=class extends Fe.WriteableStreamMessageWriter{constructor(e,n){super(Dt.default().stream.asWritableStream(e),n)}};G.StreamMessageWriter=On;var fs=process.env.XDG_RUNTIME_DIR,Fu=new Map([["linux",107],["darwin",103]]);function ju(){let t=Mu.randomBytes(21).toString("hex");if(process.platform==="win32")return`\\\\.\\pipe\\vscode-jsonrpc-${t}-sock`;let e;fs?e=ds.join(fs,`vscode-ipc-${t}.sock`):e=ds.join(xu.tmpdir(),`vscode-${t}.sock`);let n=Fu.get(process.platform);return n!==void 0&&e.length>=n&&Dt.default().console.warn(`WARNING: IPC handle "${e}" is longer than ${n} characters.`),e}G.generateRandomPipeName=ju;function Lu(t,e="utf-8"){let n,r=new Promise((i,a)=>{n=i});return new Promise((i,a)=>{let d=Nn.createServer(v=>{d.close(),n([new ht(v,e),new pt(v,e)])});d.on("error",a),d.listen(t,()=>{d.removeListener("error",a),i({onConnected:()=>r})})})}G.createClientPipeTransport=Lu;function Iu(t,e="utf-8"){let n=Nn.createConnection(t);return[new ht(n,e),new pt(n,e)]}G.createServerPipeTransport=Iu;function Wu(t,e="utf-8"){let n,r=new Promise((i,a)=>{n=i});return new Promise((i,a)=>{let d=Nn.createServer(v=>{d.close(),n([new ht(v,e),new pt(v,e)])});d.on("error",a),d.listen(t,"127.0.0.1",()=>{d.removeListener("error",a),i({onConnected:()=>r})})})}G.createClientSocketTransport=Wu;function Au(t,e="utf-8"){let n=Nn.createConnection(t,"127.0.0.1");return[new ht(n,e),new pt(n,e)]}G.createServerSocketTransport=Au;function Vu(t){let e=t;return e.read!==void 0&&e.addListener!==void 0}function Hu(t){let e=t;return e.write!==void 0&&e.addListener!==void 0}function $u(t,e,n,r){n||(n=Fe.NullLogger);let i=Vu(t)?new En(t):t,a=Hu(e)?new On(e):e;return Fe.ConnectionStrategy.is(r)&&(r={connectionStrategy:r}),Fe.createMessageConnection(i,a,n,r)}G.createMessageConnection=$u});var Mi=C((ug,hs)=>{"use strict";hs.exports=Et()});var gs=C((ps,xn)=>{(function(t){if(typeof xn=="object"&&typeof xn.exports=="object"){var e=t(require,ps);e!==void 0&&(xn.exports=e)}else typeof define=="function"&&define.amd&&define(["require","exports"],t)})(function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TextDocument=e.EOL=e.SelectionRange=e.DocumentLink=e.FormattingOptions=e.CodeLens=e.CodeAction=e.CodeActionContext=e.CodeActionKind=e.DocumentSymbol=e.SymbolInformation=e.SymbolTag=e.SymbolKind=e.DocumentHighlight=e.DocumentHighlightKind=e.SignatureInformation=e.ParameterInformation=e.Hover=e.MarkedString=e.CompletionList=e.CompletionItem=e.InsertTextMode=e.InsertReplaceEdit=e.CompletionItemTag=e.InsertTextFormat=e.CompletionItemKind=e.MarkupContent=e.MarkupKind=e.TextDocumentItem=e.OptionalVersionedTextDocumentIdentifier=e.VersionedTextDocumentIdentifier=e.TextDocumentIdentifier=e.WorkspaceChange=e.WorkspaceEdit=e.DeleteFile=e.RenameFile=e.CreateFile=e.TextDocumentEdit=e.AnnotatedTextEdit=e.ChangeAnnotationIdentifier=e.ChangeAnnotation=e.TextEdit=e.Command=e.Diagnostic=e.CodeDescription=e.DiagnosticTag=e.DiagnosticSeverity=e.DiagnosticRelatedInformation=e.FoldingRange=e.FoldingRangeKind=e.ColorPresentation=e.ColorInformation=e.Color=e.LocationLink=e.Location=e.Range=e.Position=e.uinteger=e.integer=void 0;var n;(function(s){s.MIN_VALUE=-2147483648,s.MAX_VALUE=2147483647})(n=e.integer||(e.integer={}));var r;(function(s){s.MIN_VALUE=0,s.MAX_VALUE=2147483647})(r=e.uinteger||(e.uinteger={}));var i;(function(s){function f(c,o){return c===Number.MAX_VALUE&&(c=r.MAX_VALUE),o===Number.MAX_VALUE&&(o=r.MAX_VALUE),{line:c,character:o}}s.create=f;function g(c){var o=c;return l.objectLiteral(o)&&l.uinteger(o.line)&&l.uinteger(o.character)}s.is=g})(i=e.Position||(e.Position={}));var a;(function(s){function f(c,o,y,w){if(l.uinteger(c)&&l.uinteger(o)&&l.uinteger(y)&&l.uinteger(w))return{start:i.create(c,o),end:i.create(y,w)};if(i.is(c)&&i.is(o))return{start:c,end:o};throw new Error("Range#create called with invalid arguments["+c+", "+o+", "+y+", "+w+"]")}s.create=f;function g(c){var o=c;return l.objectLiteral(o)&&i.is(o.start)&&i.is(o.end)}s.is=g})(a=e.Range||(e.Range={}));var d;(function(s){function f(c,o){return{uri:c,range:o}}s.create=f;function g(c){var o=c;return l.defined(o)&&a.is(o.range)&&(l.string(o.uri)||l.undefined(o.uri))}s.is=g})(d=e.Location||(e.Location={}));var v;(function(s){function f(c,o,y,w){return{targetUri:c,targetRange:o,targetSelectionRange:y,originSelectionRange:w}}s.create=f;function g(c){var o=c;return l.defined(o)&&a.is(o.targetRange)&&l.string(o.targetUri)&&(a.is(o.targetSelectionRange)||l.undefined(o.targetSelectionRange))&&(a.is(o.originSelectionRange)||l.undefined(o.originSelectionRange))}s.is=g})(v=e.LocationLink||(e.LocationLink={}));var h;(function(s){function f(c,o,y,w){return{red:c,green:o,blue:y,alpha:w}}s.create=f;function g(c){var o=c;return l.numberRange(o.red,0,1)&&l.numberRange(o.green,0,1)&&l.numberRange(o.blue,0,1)&&l.numberRange(o.alpha,0,1)}s.is=g})(h=e.Color||(e.Color={}));var m;(function(s){function f(c,o){return{range:c,color:o}}s.create=f;function g(c){var o=c;return a.is(o.range)&&h.is(o.color)}s.is=g})(m=e.ColorInformation||(e.ColorInformation={}));var R;(function(s){function f(c,o,y){return{label:c,textEdit:o,additionalTextEdits:y}}s.create=f;function g(c){var o=c;return l.string(o.label)&&(l.undefined(o.textEdit)||S.is(o))&&(l.undefined(o.additionalTextEdits)||l.typedArray(o.additionalTextEdits,S.is))}s.is=g})(R=e.ColorPresentation||(e.ColorPresentation={}));var P;(function(s){s.Comment="comment",s.Imports="imports",s.Region="region"})(P=e.FoldingRangeKind||(e.FoldingRangeKind={}));var q;(function(s){function f(c,o,y,w,E){var N={startLine:c,endLine:o};return l.defined(y)&&(N.startCharacter=y),l.defined(w)&&(N.endCharacter=w),l.defined(E)&&(N.kind=E),N}s.create=f;function g(c){var o=c;return l.uinteger(o.startLine)&&l.uinteger(o.startLine)&&(l.undefined(o.startCharacter)||l.uinteger(o.startCharacter))&&(l.undefined(o.endCharacter)||l.uinteger(o.endCharacter))&&(l.undefined(o.kind)||l.string(o.kind))}s.is=g})(q=e.FoldingRange||(e.FoldingRange={}));var k;(function(s){function f(c,o){return{location:c,message:o}}s.create=f;function g(c){var o=c;return l.defined(o)&&d.is(o.location)&&l.string(o.message)}s.is=g})(k=e.DiagnosticRelatedInformation||(e.DiagnosticRelatedInformation={}));var x;(function(s){s.Error=1,s.Warning=2,s.Information=3,s.Hint=4})(x=e.DiagnosticSeverity||(e.DiagnosticSeverity={}));var A;(function(s){s.Unnecessary=1,s.Deprecated=2})(A=e.DiagnosticTag||(e.DiagnosticTag={}));var K;(function(s){function f(g){var c=g;return c!=null&&l.string(c.href)}s.is=f})(K=e.CodeDescription||(e.CodeDescription={}));var _;(function(s){function f(c,o,y,w,E,N){var V={range:c,message:o};return l.defined(y)&&(V.severity=y),l.defined(w)&&(V.code=w),l.defined(E)&&(V.source=E),l.defined(N)&&(V.relatedInformation=N),V}s.create=f;function g(c){var o,y=c;return l.defined(y)&&a.is(y.range)&&l.string(y.message)&&(l.number(y.severity)||l.undefined(y.severity))&&(l.integer(y.code)||l.string(y.code)||l.undefined(y.code))&&(l.undefined(y.codeDescription)||l.string((o=y.codeDescription)===null||o===void 0?void 0:o.href))&&(l.string(y.source)||l.undefined(y.source))&&(l.undefined(y.relatedInformation)||l.typedArray(y.relatedInformation,k.is))}s.is=g})(_=e.Diagnostic||(e.Diagnostic={}));var b;(function(s){function f(c,o){for(var y=[],w=2;w<arguments.length;w++)y[w-2]=arguments[w];var E={title:c,command:o};return l.defined(y)&&y.length>0&&(E.arguments=y),E}s.create=f;function g(c){var o=c;return l.defined(o)&&l.string(o.title)&&l.string(o.command)}s.is=g})(b=e.Command||(e.Command={}));var S;(function(s){function f(y,w){return{range:y,newText:w}}s.replace=f;function g(y,w){return{range:{start:y,end:y},newText:w}}s.insert=g;function c(y){return{range:y,newText:""}}s.del=c;function o(y){var w=y;return l.objectLiteral(w)&&l.string(w.newText)&&a.is(w.range)}s.is=o})(S=e.TextEdit||(e.TextEdit={}));var M;(function(s){function f(c,o,y){var w={label:c};return o!==void 0&&(w.needsConfirmation=o),y!==void 0&&(w.description=y),w}s.create=f;function g(c){var o=c;return o!==void 0&&l.objectLiteral(o)&&l.string(o.label)&&(l.boolean(o.needsConfirmation)||o.needsConfirmation===void 0)&&(l.string(o.description)||o.description===void 0)}s.is=g})(M=e.ChangeAnnotation||(e.ChangeAnnotation={}));var $;(function(s){function f(g){var c=g;return typeof c=="string"}s.is=f})($=e.ChangeAnnotationIdentifier||(e.ChangeAnnotationIdentifier={}));var be;(function(s){function f(y,w,E){return{range:y,newText:w,annotationId:E}}s.replace=f;function g(y,w,E){return{range:{start:y,end:y},newText:w,annotationId:E}}s.insert=g;function c(y,w){return{range:y,newText:"",annotationId:w}}s.del=c;function o(y){var w=y;return S.is(w)&&(M.is(w.annotationId)||$.is(w.annotationId))}s.is=o})(be=e.AnnotatedTextEdit||(e.AnnotatedTextEdit={}));var Rt;(function(s){function f(c,o){return{textDocument:c,edits:o}}s.create=f;function g(c){var o=c;return l.defined(o)&&_t.is(o.textDocument)&&Array.isArray(o.edits)}s.is=g})(Rt=e.TextDocumentEdit||(e.TextDocumentEdit={}));var nt;(function(s){function f(c,o,y){var w={kind:"create",uri:c};return o!==void 0&&(o.overwrite!==void 0||o.ignoreIfExists!==void 0)&&(w.options=o),y!==void 0&&(w.annotationId=y),w}s.create=f;function g(c){var o=c;return o&&o.kind==="create"&&l.string(o.uri)&&(o.options===void 0||(o.options.overwrite===void 0||l.boolean(o.options.overwrite))&&(o.options.ignoreIfExists===void 0||l.boolean(o.options.ignoreIfExists)))&&(o.annotationId===void 0||$.is(o.annotationId))}s.is=g})(nt=e.CreateFile||(e.CreateFile={}));var rt;(function(s){function f(c,o,y,w){var E={kind:"rename",oldUri:c,newUri:o};return y!==void 0&&(y.overwrite!==void 0||y.ignoreIfExists!==void 0)&&(E.options=y),w!==void 0&&(E.annotationId=w),E}s.create=f;function g(c){var o=c;return o&&o.kind==="rename"&&l.string(o.oldUri)&&l.string(o.newUri)&&(o.options===void 0||(o.options.overwrite===void 0||l.boolean(o.options.overwrite))&&(o.options.ignoreIfExists===void 0||l.boolean(o.options.ignoreIfExists)))&&(o.annotationId===void 0||$.is(o.annotationId))}s.is=g})(rt=e.RenameFile||(e.RenameFile={}));var it;(function(s){function f(c,o,y){var w={kind:"delete",uri:c};return o!==void 0&&(o.recursive!==void 0||o.ignoreIfNotExists!==void 0)&&(w.options=o),y!==void 0&&(w.annotationId=y),w}s.create=f;function g(c){var o=c;return o&&o.kind==="delete"&&l.string(o.uri)&&(o.options===void 0||(o.options.recursive===void 0||l.boolean(o.options.recursive))&&(o.options.ignoreIfNotExists===void 0||l.boolean(o.options.ignoreIfNotExists)))&&(o.annotationId===void 0||$.is(o.annotationId))}s.is=g})(it=e.DeleteFile||(e.DeleteFile={}));var ot;(function(s){function f(g){var c=g;return c&&(c.changes!==void 0||c.documentChanges!==void 0)&&(c.documentChanges===void 0||c.documentChanges.every(function(o){return l.string(o.kind)?nt.is(o)||rt.is(o)||it.is(o):Rt.is(o)}))}s.is=f})(ot=e.WorkspaceEdit||(e.WorkspaceEdit={}));var st=function(){function s(f,g){this.edits=f,this.changeAnnotations=g}return s.prototype.insert=function(f,g,c){var o,y;if(c===void 0?o=S.insert(f,g):$.is(c)?(y=c,o=be.insert(f,g,c)):(this.assertChangeAnnotations(this.changeAnnotations),y=this.changeAnnotations.manage(c),o=be.insert(f,g,y)),this.edits.push(o),y!==void 0)return y},s.prototype.replace=function(f,g,c){var o,y;if(c===void 0?o=S.replace(f,g):$.is(c)?(y=c,o=be.replace(f,g,c)):(this.assertChangeAnnotations(this.changeAnnotations),y=this.changeAnnotations.manage(c),o=be.replace(f,g,y)),this.edits.push(o),y!==void 0)return y},s.prototype.delete=function(f,g){var c,o;if(g===void 0?c=S.del(f):$.is(g)?(o=g,c=be.del(f,g)):(this.assertChangeAnnotations(this.changeAnnotations),o=this.changeAnnotations.manage(g),c=be.del(f,o)),this.edits.push(c),o!==void 0)return o},s.prototype.add=function(f){this.edits.push(f)},s.prototype.all=function(){return this.edits},s.prototype.clear=function(){this.edits.splice(0,this.edits.length)},s.prototype.assertChangeAnnotations=function(f){if(f===void 0)throw new Error("Text edit change is not configured to manage change annotations.")},s}(),hn=function(){function s(f){this._annotations=f===void 0?Object.create(null):f,this._counter=0,this._size=0}return s.prototype.all=function(){return this._annotations},Object.defineProperty(s.prototype,"size",{get:function(){return this._size},enumerable:!1,configurable:!0}),s.prototype.manage=function(f,g){var c;if($.is(f)?c=f:(c=this.nextId(),g=f),this._annotations[c]!==void 0)throw new Error("Id "+c+" is already in use.");if(g===void 0)throw new Error("No annotation provided for id "+c);return this._annotations[c]=g,this._size++,c},s.prototype.nextId=function(){return this._counter++,this._counter.toString()},s}(),gr=function(){function s(f){var g=this;this._textEditChanges=Object.create(null),f!==void 0?(this._workspaceEdit=f,f.documentChanges?(this._changeAnnotations=new hn(f.changeAnnotations),f.changeAnnotations=this._changeAnnotations.all(),f.documentChanges.forEach(function(c){if(Rt.is(c)){var o=new st(c.edits,g._changeAnnotations);g._textEditChanges[c.textDocument.uri]=o}})):f.changes&&Object.keys(f.changes).forEach(function(c){var o=new st(f.changes[c]);g._textEditChanges[c]=o})):this._workspaceEdit={}}return Object.defineProperty(s.prototype,"edit",{get:function(){return this.initDocumentChanges(),this._changeAnnotations!==void 0&&(this._changeAnnotations.size===0?this._workspaceEdit.changeAnnotations=void 0:this._workspaceEdit.changeAnnotations=this._changeAnnotations.all()),this._workspaceEdit},enumerable:!1,configurable:!0}),s.prototype.getTextEditChange=function(f){if(_t.is(f)){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");var g={uri:f.uri,version:f.version},c=this._textEditChanges[g.uri];if(!c){var o=[],y={textDocument:g,edits:o};this._workspaceEdit.documentChanges.push(y),c=new st(o,this._changeAnnotations),this._textEditChanges[g.uri]=c}return c}else{if(this.initChanges(),this._workspaceEdit.changes===void 0)throw new Error("Workspace edit is not configured for normal text edit changes.");var c=this._textEditChanges[f];if(!c){var o=[];this._workspaceEdit.changes[f]=o,c=new st(o),this._textEditChanges[f]=c}return c}},s.prototype.initDocumentChanges=function(){this._workspaceEdit.documentChanges===void 0&&this._workspaceEdit.changes===void 0&&(this._changeAnnotations=new hn,this._workspaceEdit.documentChanges=[],this._workspaceEdit.changeAnnotations=this._changeAnnotations.all())},s.prototype.initChanges=function(){this._workspaceEdit.documentChanges===void 0&&this._workspaceEdit.changes===void 0&&(this._workspaceEdit.changes=Object.create(null))},s.prototype.createFile=function(f,g,c){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");var o;M.is(g)||$.is(g)?o=g:c=g;var y,w;if(o===void 0?y=nt.create(f,c):(w=$.is(o)?o:this._changeAnnotations.manage(o),y=nt.create(f,c,w)),this._workspaceEdit.documentChanges.push(y),w!==void 0)return w},s.prototype.renameFile=function(f,g,c,o){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");var y;M.is(c)||$.is(c)?y=c:o=c;var w,E;if(y===void 0?w=rt.create(f,g,o):(E=$.is(y)?y:this._changeAnnotations.manage(y),w=rt.create(f,g,o,E)),this._workspaceEdit.documentChanges.push(w),E!==void 0)return E},s.prototype.deleteFile=function(f,g,c){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");var o;M.is(g)||$.is(g)?o=g:c=g;var y,w;if(o===void 0?y=it.create(f,c):(w=$.is(o)?o:this._changeAnnotations.manage(o),y=it.create(f,c,w)),this._workspaceEdit.documentChanges.push(y),w!==void 0)return w},s}();e.WorkspaceChange=gr;var mr;(function(s){function f(c){return{uri:c}}s.create=f;function g(c){var o=c;return l.defined(o)&&l.string(o.uri)}s.is=g})(mr=e.TextDocumentIdentifier||(e.TextDocumentIdentifier={}));var yr;(function(s){function f(c,o){return{uri:c,version:o}}s.create=f;function g(c){var o=c;return l.defined(o)&&l.string(o.uri)&&l.integer(o.version)}s.is=g})(yr=e.VersionedTextDocumentIdentifier||(e.VersionedTextDocumentIdentifier={}));var _t;(function(s){function f(c,o){return{uri:c,version:o}}s.create=f;function g(c){var o=c;return l.defined(o)&&l.string(o.uri)&&(o.version===null||l.integer(o.version))}s.is=g})(_t=e.OptionalVersionedTextDocumentIdentifier||(e.OptionalVersionedTextDocumentIdentifier={}));var pn;(function(s){function f(c,o,y,w){return{uri:c,languageId:o,version:y,text:w}}s.create=f;function g(c){var o=c;return l.defined(o)&&l.string(o.uri)&&l.string(o.languageId)&&l.integer(o.version)&&l.string(o.text)}s.is=g})(pn=e.TextDocumentItem||(e.TextDocumentItem={}));var Me;(function(s){s.PlainText="plaintext",s.Markdown="markdown"})(Me=e.MarkupKind||(e.MarkupKind={})),function(s){function f(g){var c=g;return c===s.PlainText||c===s.Markdown}s.is=f}(Me=e.MarkupKind||(e.MarkupKind={}));var At;(function(s){function f(g){var c=g;return l.objectLiteral(g)&&Me.is(c.kind)&&l.string(c.value)}s.is=f})(At=e.MarkupContent||(e.MarkupContent={}));var vr;(function(s){s.Text=1,s.Method=2,s.Function=3,s.Constructor=4,s.Field=5,s.Variable=6,s.Class=7,s.Interface=8,s.Module=9,s.Property=10,s.Unit=11,s.Value=12,s.Enum=13,s.Keyword=14,s.Snippet=15,s.Color=16,s.File=17,s.Reference=18,s.Folder=19,s.EnumMember=20,s.Constant=21,s.Struct=22,s.Event=23,s.Operator=24,s.TypeParameter=25})(vr=e.CompletionItemKind||(e.CompletionItemKind={}));var br;(function(s){s.PlainText=1,s.Snippet=2})(br=e.InsertTextFormat||(e.InsertTextFormat={}));var gn;(function(s){s.Deprecated=1})(gn=e.CompletionItemTag||(e.CompletionItemTag={}));var Rr;(function(s){function f(c,o,y){return{newText:c,insert:o,replace:y}}s.create=f;function g(c){var o=c;return o&&l.string(o.newText)&&a.is(o.insert)&&a.is(o.replace)}s.is=g})(Rr=e.InsertReplaceEdit||(e.InsertReplaceEdit={}));var _r;(function(s){s.asIs=1,s.adjustIndentation=2})(_r=e.InsertTextMode||(e.InsertTextMode={}));var wr;(function(s){function f(g){return{label:g}}s.create=f})(wr=e.CompletionItem||(e.CompletionItem={}));var qr;(function(s){function f(g,c){return{items:g||[],isIncomplete:!!c}}s.create=f})(qr=e.CompletionList||(e.CompletionList={}));var Vt;(function(s){function f(c){return c.replace(/[\\`*_{}[\]()#+\-.!]/g,"\\$&")}s.fromPlainText=f;function g(c){var o=c;return l.string(o)||l.objectLiteral(o)&&l.string(o.language)&&l.string(o.value)}s.is=g})(Vt=e.MarkedString||(e.MarkedString={}));var Pr;(function(s){function f(g){var c=g;return!!c&&l.objectLiteral(c)&&(At.is(c.contents)||Vt.is(c.contents)||l.typedArray(c.contents,Vt.is))&&(g.range===void 0||a.is(g.range))}s.is=f})(Pr=e.Hover||(e.Hover={}));var Tr;(function(s){function f(g,c){return c?{label:g,documentation:c}:{label:g}}s.create=f})(Tr=e.ParameterInformation||(e.ParameterInformation={}));var Cr;(function(s){function f(g,c){for(var o=[],y=2;y<arguments.length;y++)o[y-2]=arguments[y];var w={label:g};return l.defined(c)&&(w.documentation=c),l.defined(o)?w.parameters=o:w.parameters=[],w}s.create=f})(Cr=e.SignatureInformation||(e.SignatureInformation={}));var wt;(function(s){s.Text=1,s.Read=2,s.Write=3})(wt=e.DocumentHighlightKind||(e.DocumentHighlightKind={}));var Sr;(function(s){function f(g,c){var o={range:g};return l.number(c)&&(o.kind=c),o}s.create=f})(Sr=e.DocumentHighlight||(e.DocumentHighlight={}));var kr;(function(s){s.File=1,s.Module=2,s.Namespace=3,s.Package=4,s.Class=5,s.Method=6,s.Property=7,s.Field=8,s.Constructor=9,s.Enum=10,s.Interface=11,s.Function=12,s.Variable=13,s.Constant=14,s.String=15,s.Number=16,s.Boolean=17,s.Array=18,s.Object=19,s.Key=20,s.Null=21,s.EnumMember=22,s.Struct=23,s.Event=24,s.Operator=25,s.TypeParameter=26})(kr=e.SymbolKind||(e.SymbolKind={}));var Dr;(function(s){s.Deprecated=1})(Dr=e.SymbolTag||(e.SymbolTag={}));var Be;(function(s){function f(g,c,o,y,w){var E={name:g,kind:c,location:{uri:y,range:o}};return w&&(E.containerName=w),E}s.create=f})(Be=e.SymbolInformation||(e.SymbolInformation={}));var at;(function(s){function f(c,o,y,w,E,N){var V={name:c,detail:o,kind:y,range:w,selectionRange:E};return N!==void 0&&(V.children=N),V}s.create=f;function g(c){var o=c;return o&&l.string(o.name)&&l.number(o.kind)&&a.is(o.range)&&a.is(o.selectionRange)&&(o.detail===void 0||l.string(o.detail))&&(o.deprecated===void 0||l.boolean(o.deprecated))&&(o.children===void 0||Array.isArray(o.children))&&(o.tags===void 0||Array.isArray(o.tags))}s.is=g})(at=e.DocumentSymbol||(e.DocumentSymbol={}));var Er;(function(s){s.Empty="",s.QuickFix="quickfix",s.Refactor="refactor",s.RefactorExtract="refactor.extract",s.RefactorInline="refactor.inline",s.RefactorRewrite="refactor.rewrite",s.Source="source",s.SourceOrganizeImports="source.organizeImports",s.SourceFixAll="source.fixAll"})(Er=e.CodeActionKind||(e.CodeActionKind={}));var Or;(function(s){function f(c,o){var y={diagnostics:c};return o!=null&&(y.only=o),y}s.create=f;function g(c){var o=c;return l.defined(o)&&l.typedArray(o.diagnostics,_.is)&&(o.only===void 0||l.typedArray(o.only,l.string))}s.is=g})(Or=e.CodeActionContext||(e.CodeActionContext={}));var ct;(function(s){function f(c,o,y){var w={title:c},E=!0;return typeof o=="string"?(E=!1,w.kind=o):b.is(o)?w.command=o:w.edit=o,E&&y!==void 0&&(w.kind=y),w}s.create=f;function g(c){var o=c;return o&&l.string(o.title)&&(o.diagnostics===void 0||l.typedArray(o.diagnostics,_.is))&&(o.kind===void 0||l.string(o.kind))&&(o.edit!==void 0||o.command!==void 0)&&(o.command===void 0||b.is(o.command))&&(o.isPreferred===void 0||l.boolean(o.isPreferred))&&(o.edit===void 0||ot.is(o.edit))}s.is=g})(ct=e.CodeAction||(e.CodeAction={}));var mn;(function(s){function f(c,o){var y={range:c};return l.defined(o)&&(y.data=o),y}s.create=f;function g(c){var o=c;return l.defined(o)&&a.is(o.range)&&(l.undefined(o.command)||b.is(o.command))}s.is=g})(mn=e.CodeLens||(e.CodeLens={}));var yn;(function(s){function f(c,o){return{tabSize:c,insertSpaces:o}}s.create=f;function g(c){var o=c;return l.defined(o)&&l.uinteger(o.tabSize)&&l.boolean(o.insertSpaces)}s.is=g})(yn=e.FormattingOptions||(e.FormattingOptions={}));var Ht;(function(s){function f(c,o,y){return{range:c,target:o,data:y}}s.create=f;function g(c){var o=c;return l.defined(o)&&a.is(o.range)&&(l.undefined(o.target)||l.string(o.target))}s.is=g})(Ht=e.DocumentLink||(e.DocumentLink={}));var vn;(function(s){function f(c,o){return{range:c,parent:o}}s.create=f;function g(c){var o=c;return o!==void 0&&a.is(o.range)&&(o.parent===void 0||s.is(o.parent))}s.is=g})(vn=e.SelectionRange||(e.SelectionRange={})),e.EOL=[`
`,`\r
`,"\r"];var Ue;(function(s){function f(y,w,E,N){return new p(y,w,E,N)}s.create=f;function g(y){var w=y;return!!(l.defined(w)&&l.string(w.uri)&&(l.undefined(w.languageId)||l.string(w.languageId))&&l.uinteger(w.lineCount)&&l.func(w.getText)&&l.func(w.positionAt)&&l.func(w.offsetAt))}s.is=g;function c(y,w){for(var E=y.getText(),N=o(w,function(qt,bn){var Io=qt.range.start.line-bn.range.start.line;return Io===0?qt.range.start.character-bn.range.start.character:Io}),V=E.length,Q=N.length-1;Q>=0;Q--){var se=N[Q],ae=y.offsetAt(se.range.start),U=y.offsetAt(se.range.end);if(U<=V)E=E.substring(0,ae)+se.newText+E.substring(U,E.length);else throw new Error("Overlapping edit");V=ae}return E}s.applyEdits=c;function o(y,w){if(y.length<=1)return y;var E=y.length/2|0,N=y.slice(0,E),V=y.slice(E);o(N,w),o(V,w);for(var Q=0,se=0,ae=0;Q<N.length&&se<V.length;){var U=w(N[Q],V[se]);U<=0?y[ae++]=N[Q++]:y[ae++]=V[se++]}for(;Q<N.length;)y[ae++]=N[Q++];for(;se<V.length;)y[ae++]=V[se++];return y}})(Ue=e.TextDocument||(e.TextDocument={}));var p=function(){function s(f,g,c,o){this._uri=f,this._languageId=g,this._version=c,this._content=o,this._lineOffsets=void 0}return Object.defineProperty(s.prototype,"uri",{get:function(){return this._uri},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"languageId",{get:function(){return this._languageId},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"version",{get:function(){return this._version},enumerable:!1,configurable:!0}),s.prototype.getText=function(f){if(f){var g=this.offsetAt(f.start),c=this.offsetAt(f.end);return this._content.substring(g,c)}return this._content},s.prototype.update=function(f,g){this._content=f.text,this._version=g,this._lineOffsets=void 0},s.prototype.getLineOffsets=function(){if(this._lineOffsets===void 0){for(var f=[],g=this._content,c=!0,o=0;o<g.length;o++){c&&(f.push(o),c=!1);var y=g.charAt(o);c=y==="\r"||y===`
`,y==="\r"&&o+1<g.length&&g.charAt(o+1)===`
`&&o++}c&&g.length>0&&f.push(g.length),this._lineOffsets=f}return this._lineOffsets},s.prototype.positionAt=function(f){f=Math.max(Math.min(f,this._content.length),0);var g=this.getLineOffsets(),c=0,o=g.length;if(o===0)return i.create(0,f);for(;c<o;){var y=Math.floor((c+o)/2);g[y]>f?o=y:c=y+1}var w=c-1;return i.create(w,f-g[w])},s.prototype.offsetAt=function(f){var g=this.getLineOffsets();if(f.line>=g.length)return this._content.length;if(f.line<0)return 0;var c=g[f.line],o=f.line+1<g.length?g[f.line+1]:this._content.length;return Math.max(Math.min(c+f.character,o),c)},Object.defineProperty(s.prototype,"lineCount",{get:function(){return this.getLineOffsets().length},enumerable:!1,configurable:!0}),s}(),l;(function(s){var f=Object.prototype.toString;function g(U){return typeof U<"u"}s.defined=g;function c(U){return typeof U>"u"}s.undefined=c;function o(U){return U===!0||U===!1}s.boolean=o;function y(U){return f.call(U)==="[object String]"}s.string=y;function w(U){return f.call(U)==="[object Number]"}s.number=w;function E(U,qt,bn){return f.call(U)==="[object Number]"&&qt<=U&&U<=bn}s.numberRange=E;function N(U){return f.call(U)==="[object Number]"&&-2147483648<=U&&U<=2147483647}s.integer=N;function V(U){return f.call(U)==="[object Number]"&&0<=U&&U<=2147483647}s.uinteger=V;function Q(U){return f.call(U)==="[object Function]"}s.func=Q;function se(U){return U!==null&&typeof U=="object"}s.objectLiteral=se;function ae(U,qt){return Array.isArray(U)&&U.every(qt)}s.typedArray=ae})(l||(l={}))})});var le=C(Pe=>{"use strict";Object.defineProperty(Pe,"__esModule",{value:!0});Pe.ProtocolNotificationType=Pe.ProtocolNotificationType0=Pe.ProtocolRequestType=Pe.ProtocolRequestType0=Pe.RegistrationType=void 0;var Ot=Et(),Fi=class{constructor(e){this.method=e}};Pe.RegistrationType=Fi;var ji=class extends Ot.RequestType0{constructor(e){super(e)}};Pe.ProtocolRequestType0=ji;var Li=class extends Ot.RequestType{constructor(e){super(e,Ot.ParameterStructures.byName)}};Pe.ProtocolRequestType=Li;var Ii=class extends Ot.NotificationType0{constructor(e){super(e)}};Pe.ProtocolNotificationType0=Ii;var Wi=class extends Ot.NotificationType{constructor(e){super(e,Ot.ParameterStructures.byName)}};Pe.ProtocolNotificationType=Wi});var vs=C(oe=>{"use strict";Object.defineProperty(oe,"__esModule",{value:!0});oe.objectLiteral=oe.typedArray=oe.stringArray=oe.array=oe.func=oe.error=oe.number=oe.string=oe.boolean=void 0;function zu(t){return t===!0||t===!1}oe.boolean=zu;function ms(t){return typeof t=="string"||t instanceof String}oe.string=ms;function Bu(t){return typeof t=="number"||t instanceof Number}oe.number=Bu;function Uu(t){return t instanceof Error}oe.error=Uu;function Ku(t){return typeof t=="function"}oe.func=Ku;function ys(t){return Array.isArray(t)}oe.array=ys;function Yu(t){return ys(t)&&t.every(e=>ms(e))}oe.stringArray=Yu;function Ju(t,e){return Array.isArray(t)&&t.every(e)}oe.typedArray=Ju;function Gu(t){return t!==null&&typeof t=="object"}oe.objectLiteral=Gu});var bs=C(Yt=>{"use strict";Object.defineProperty(Yt,"__esModule",{value:!0});Yt.ImplementationRequest=void 0;var Zu=le(),Qu;(function(t){t.method="textDocument/implementation",t.type=new Zu.ProtocolRequestType(t.method)})(Qu=Yt.ImplementationRequest||(Yt.ImplementationRequest={}))});var Rs=C(Jt=>{"use strict";Object.defineProperty(Jt,"__esModule",{value:!0});Jt.TypeDefinitionRequest=void 0;var Xu=le(),el;(function(t){t.method="textDocument/typeDefinition",t.type=new Xu.ProtocolRequestType(t.method)})(el=Jt.TypeDefinitionRequest||(Jt.TypeDefinitionRequest={}))});var ws=C(Ye=>{"use strict";Object.defineProperty(Ye,"__esModule",{value:!0});Ye.DidChangeWorkspaceFoldersNotification=Ye.WorkspaceFoldersRequest=void 0;var _s=le(),tl;(function(t){t.type=new _s.ProtocolRequestType0("workspace/workspaceFolders")})(tl=Ye.WorkspaceFoldersRequest||(Ye.WorkspaceFoldersRequest={}));var nl;(function(t){t.type=new _s.ProtocolNotificationType("workspace/didChangeWorkspaceFolders")})(nl=Ye.DidChangeWorkspaceFoldersNotification||(Ye.DidChangeWorkspaceFoldersNotification={}))});var qs=C(Gt=>{"use strict";Object.defineProperty(Gt,"__esModule",{value:!0});Gt.ConfigurationRequest=void 0;var rl=le(),il;(function(t){t.type=new rl.ProtocolRequestType("workspace/configuration")})(il=Gt.ConfigurationRequest||(Gt.ConfigurationRequest={}))});var Ts=C(Je=>{"use strict";Object.defineProperty(Je,"__esModule",{value:!0});Je.ColorPresentationRequest=Je.DocumentColorRequest=void 0;var Ps=le(),ol;(function(t){t.method="textDocument/documentColor",t.type=new Ps.ProtocolRequestType(t.method)})(ol=Je.DocumentColorRequest||(Je.DocumentColorRequest={}));var sl;(function(t){t.type=new Ps.ProtocolRequestType("textDocument/colorPresentation")})(sl=Je.ColorPresentationRequest||(Je.ColorPresentationRequest={}))});var Cs=C(Ge=>{"use strict";Object.defineProperty(Ge,"__esModule",{value:!0});Ge.FoldingRangeRequest=Ge.FoldingRangeKind=void 0;var al=le(),cl;(function(t){t.Comment="comment",t.Imports="imports",t.Region="region"})(cl=Ge.FoldingRangeKind||(Ge.FoldingRangeKind={}));var ul;(function(t){t.method="textDocument/foldingRange",t.type=new al.ProtocolRequestType(t.method)})(ul=Ge.FoldingRangeRequest||(Ge.FoldingRangeRequest={}))});var Ss=C(Zt=>{"use strict";Object.defineProperty(Zt,"__esModule",{value:!0});Zt.DeclarationRequest=void 0;var ll=le(),dl;(function(t){t.method="textDocument/declaration",t.type=new ll.ProtocolRequestType(t.method)})(dl=Zt.DeclarationRequest||(Zt.DeclarationRequest={}))});var ks=C(Qt=>{"use strict";Object.defineProperty(Qt,"__esModule",{value:!0});Qt.SelectionRangeRequest=void 0;var fl=le(),hl;(function(t){t.method="textDocument/selectionRange",t.type=new fl.ProtocolRequestType(t.method)})(hl=Qt.SelectionRangeRequest||(Qt.SelectionRangeRequest={}))});var Es=C(De=>{"use strict";Object.defineProperty(De,"__esModule",{value:!0});De.WorkDoneProgressCancelNotification=De.WorkDoneProgressCreateRequest=De.WorkDoneProgress=void 0;var pl=Et(),Ds=le(),gl;(function(t){t.type=new pl.ProgressType;function e(n){return n===t.type}t.is=e})(gl=De.WorkDoneProgress||(De.WorkDoneProgress={}));var ml;(function(t){t.type=new Ds.ProtocolRequestType("window/workDoneProgress/create")})(ml=De.WorkDoneProgressCreateRequest||(De.WorkDoneProgressCreateRequest={}));var yl;(function(t){t.type=new Ds.ProtocolNotificationType("window/workDoneProgress/cancel")})(yl=De.WorkDoneProgressCancelNotification||(De.WorkDoneProgressCancelNotification={}))});var Os=C(Ee=>{"use strict";Object.defineProperty(Ee,"__esModule",{value:!0});Ee.CallHierarchyOutgoingCallsRequest=Ee.CallHierarchyIncomingCallsRequest=Ee.CallHierarchyPrepareRequest=void 0;var Ai=le(),vl;(function(t){t.method="textDocument/prepareCallHierarchy",t.type=new Ai.ProtocolRequestType(t.method)})(vl=Ee.CallHierarchyPrepareRequest||(Ee.CallHierarchyPrepareRequest={}));var bl;(function(t){t.method="callHierarchy/incomingCalls",t.type=new Ai.ProtocolRequestType(t.method)})(bl=Ee.CallHierarchyIncomingCallsRequest||(Ee.CallHierarchyIncomingCallsRequest={}));var Rl;(function(t){t.method="callHierarchy/outgoingCalls",t.type=new Ai.ProtocolRequestType(t.method)})(Rl=Ee.CallHierarchyOutgoingCallsRequest||(Ee.CallHierarchyOutgoingCallsRequest={}))});var Ns=C(Z=>{"use strict";Object.defineProperty(Z,"__esModule",{value:!0});Z.SemanticTokensRefreshRequest=Z.SemanticTokensRangeRequest=Z.SemanticTokensDeltaRequest=Z.SemanticTokensRequest=Z.SemanticTokensRegistrationType=Z.TokenFormat=Z.SemanticTokens=Z.SemanticTokenModifiers=Z.SemanticTokenTypes=void 0;var Xt=le(),_l;(function(t){t.namespace="namespace",t.type="type",t.class="class",t.enum="enum",t.interface="interface",t.struct="struct",t.typeParameter="typeParameter",t.parameter="parameter",t.variable="variable",t.property="property",t.enumMember="enumMember",t.event="event",t.function="function",t.method="method",t.macro="macro",t.keyword="keyword",t.modifier="modifier",t.comment="comment",t.string="string",t.number="number",t.regexp="regexp",t.operator="operator"})(_l=Z.SemanticTokenTypes||(Z.SemanticTokenTypes={}));var wl;(function(t){t.declaration="declaration",t.definition="definition",t.readonly="readonly",t.static="static",t.deprecated="deprecated",t.abstract="abstract",t.async="async",t.modification="modification",t.documentation="documentation",t.defaultLibrary="defaultLibrary"})(wl=Z.SemanticTokenModifiers||(Z.SemanticTokenModifiers={}));var ql;(function(t){function e(n){let r=n;return r!==void 0&&(r.resultId===void 0||typeof r.resultId=="string")&&Array.isArray(r.data)&&(r.data.length===0||typeof r.data[0]=="number")}t.is=e})(ql=Z.SemanticTokens||(Z.SemanticTokens={}));var Pl;(function(t){t.Relative="relative"})(Pl=Z.TokenFormat||(Z.TokenFormat={}));var Tl;(function(t){t.method="textDocument/semanticTokens",t.type=new Xt.RegistrationType(t.method)})(Tl=Z.SemanticTokensRegistrationType||(Z.SemanticTokensRegistrationType={}));var Cl;(function(t){t.method="textDocument/semanticTokens/full",t.type=new Xt.ProtocolRequestType(t.method)})(Cl=Z.SemanticTokensRequest||(Z.SemanticTokensRequest={}));var Sl;(function(t){t.method="textDocument/semanticTokens/full/delta",t.type=new Xt.ProtocolRequestType(t.method)})(Sl=Z.SemanticTokensDeltaRequest||(Z.SemanticTokensDeltaRequest={}));var kl;(function(t){t.method="textDocument/semanticTokens/range",t.type=new Xt.ProtocolRequestType(t.method)})(kl=Z.SemanticTokensRangeRequest||(Z.SemanticTokensRangeRequest={}));var Dl;(function(t){t.method="workspace/semanticTokens/refresh",t.type=new Xt.ProtocolRequestType0(t.method)})(Dl=Z.SemanticTokensRefreshRequest||(Z.SemanticTokensRefreshRequest={}))});var xs=C(en=>{"use strict";Object.defineProperty(en,"__esModule",{value:!0});en.ShowDocumentRequest=void 0;var El=le(),Ol;(function(t){t.method="window/showDocument",t.type=new El.ProtocolRequestType(t.method)})(Ol=en.ShowDocumentRequest||(en.ShowDocumentRequest={}))});var Ms=C(tn=>{"use strict";Object.defineProperty(tn,"__esModule",{value:!0});tn.LinkedEditingRangeRequest=void 0;var Nl=le(),xl;(function(t){t.method="textDocument/linkedEditingRange",t.type=new Nl.ProtocolRequestType(t.method)})(xl=tn.LinkedEditingRangeRequest||(tn.LinkedEditingRangeRequest={}))});var Fs=C(ne=>{"use strict";Object.defineProperty(ne,"__esModule",{value:!0});ne.WillDeleteFilesRequest=ne.DidDeleteFilesNotification=ne.DidRenameFilesNotification=ne.WillRenameFilesRequest=ne.DidCreateFilesNotification=ne.WillCreateFilesRequest=ne.FileOperationPatternKind=void 0;var Nt=le(),Ml;(function(t){t.file="file",t.folder="folder"})(Ml=ne.FileOperationPatternKind||(ne.FileOperationPatternKind={}));var Fl;(function(t){t.method="workspace/willCreateFiles",t.type=new Nt.ProtocolRequestType(t.method)})(Fl=ne.WillCreateFilesRequest||(ne.WillCreateFilesRequest={}));var jl;(function(t){t.method="workspace/didCreateFiles",t.type=new Nt.ProtocolNotificationType(t.method)})(jl=ne.DidCreateFilesNotification||(ne.DidCreateFilesNotification={}));var Ll;(function(t){t.method="workspace/willRenameFiles",t.type=new Nt.ProtocolRequestType(t.method)})(Ll=ne.WillRenameFilesRequest||(ne.WillRenameFilesRequest={}));var Il;(function(t){t.method="workspace/didRenameFiles",t.type=new Nt.ProtocolNotificationType(t.method)})(Il=ne.DidRenameFilesNotification||(ne.DidRenameFilesNotification={}));var Wl;(function(t){t.method="workspace/didDeleteFiles",t.type=new Nt.ProtocolNotificationType(t.method)})(Wl=ne.DidDeleteFilesNotification||(ne.DidDeleteFilesNotification={}));var Al;(function(t){t.method="workspace/willDeleteFiles",t.type=new Nt.ProtocolRequestType(t.method)})(Al=ne.WillDeleteFilesRequest||(ne.WillDeleteFilesRequest={}))});var js=C(Oe=>{"use strict";Object.defineProperty(Oe,"__esModule",{value:!0});Oe.MonikerRequest=Oe.MonikerKind=Oe.UniquenessLevel=void 0;var Vl=le(),Hl;(function(t){t.document="document",t.project="project",t.group="group",t.scheme="scheme",t.global="global"})(Hl=Oe.UniquenessLevel||(Oe.UniquenessLevel={}));var $l;(function(t){t.import="import",t.export="export",t.local="local"})($l=Oe.MonikerKind||(Oe.MonikerKind={}));var zl;(function(t){t.method="textDocument/moniker",t.type=new Vl.ProtocolRequestType(t.method)})(zl=Oe.MonikerRequest||(Oe.MonikerRequest={}))});var Vs=C(u=>{"use strict";Object.defineProperty(u,"__esModule",{value:!0});u.DocumentLinkRequest=u.CodeLensRefreshRequest=u.CodeLensResolveRequest=u.CodeLensRequest=u.WorkspaceSymbolRequest=u.CodeActionResolveRequest=u.CodeActionRequest=u.DocumentSymbolRequest=u.DocumentHighlightRequest=u.ReferencesRequest=u.DefinitionRequest=u.SignatureHelpRequest=u.SignatureHelpTriggerKind=u.HoverRequest=u.CompletionResolveRequest=u.CompletionRequest=u.CompletionTriggerKind=u.PublishDiagnosticsNotification=u.WatchKind=u.FileChangeType=u.DidChangeWatchedFilesNotification=u.WillSaveTextDocumentWaitUntilRequest=u.WillSaveTextDocumentNotification=u.TextDocumentSaveReason=u.DidSaveTextDocumentNotification=u.DidCloseTextDocumentNotification=u.DidChangeTextDocumentNotification=u.TextDocumentContentChangeEvent=u.DidOpenTextDocumentNotification=u.TextDocumentSyncKind=u.TelemetryEventNotification=u.LogMessageNotification=u.ShowMessageRequest=u.ShowMessageNotification=u.MessageType=u.DidChangeConfigurationNotification=u.ExitNotification=u.ShutdownRequest=u.InitializedNotification=u.InitializeError=u.InitializeRequest=u.WorkDoneProgressOptions=u.TextDocumentRegistrationOptions=u.StaticRegistrationOptions=u.FailureHandlingKind=u.ResourceOperationKind=u.UnregistrationRequest=u.RegistrationRequest=u.DocumentSelector=u.DocumentFilter=void 0;u.MonikerRequest=u.MonikerKind=u.UniquenessLevel=u.WillDeleteFilesRequest=u.DidDeleteFilesNotification=u.WillRenameFilesRequest=u.DidRenameFilesNotification=u.WillCreateFilesRequest=u.DidCreateFilesNotification=u.FileOperationPatternKind=u.LinkedEditingRangeRequest=u.ShowDocumentRequest=u.SemanticTokensRegistrationType=u.SemanticTokensRefreshRequest=u.SemanticTokensRangeRequest=u.SemanticTokensDeltaRequest=u.SemanticTokensRequest=u.TokenFormat=u.SemanticTokens=u.SemanticTokenModifiers=u.SemanticTokenTypes=u.CallHierarchyPrepareRequest=u.CallHierarchyOutgoingCallsRequest=u.CallHierarchyIncomingCallsRequest=u.WorkDoneProgressCancelNotification=u.WorkDoneProgressCreateRequest=u.WorkDoneProgress=u.SelectionRangeRequest=u.DeclarationRequest=u.FoldingRangeRequest=u.ColorPresentationRequest=u.DocumentColorRequest=u.ConfigurationRequest=u.DidChangeWorkspaceFoldersNotification=u.WorkspaceFoldersRequest=u.TypeDefinitionRequest=u.ImplementationRequest=u.ApplyWorkspaceEditRequest=u.ExecuteCommandRequest=u.PrepareRenameRequest=u.RenameRequest=u.PrepareSupportDefaultBehavior=u.DocumentOnTypeFormattingRequest=u.DocumentRangeFormattingRequest=u.DocumentFormattingRequest=u.DocumentLinkResolveRequest=void 0;var Ze=vs(),I=le(),Bl=bs();Object.defineProperty(u,"ImplementationRequest",{enumerable:!0,get:function(){return Bl.ImplementationRequest}});var Ul=Rs();Object.defineProperty(u,"TypeDefinitionRequest",{enumerable:!0,get:function(){return Ul.TypeDefinitionRequest}});var Ls=ws();Object.defineProperty(u,"WorkspaceFoldersRequest",{enumerable:!0,get:function(){return Ls.WorkspaceFoldersRequest}});Object.defineProperty(u,"DidChangeWorkspaceFoldersNotification",{enumerable:!0,get:function(){return Ls.DidChangeWorkspaceFoldersNotification}});var Kl=qs();Object.defineProperty(u,"ConfigurationRequest",{enumerable:!0,get:function(){return Kl.ConfigurationRequest}});var Is=Ts();Object.defineProperty(u,"DocumentColorRequest",{enumerable:!0,get:function(){return Is.DocumentColorRequest}});Object.defineProperty(u,"ColorPresentationRequest",{enumerable:!0,get:function(){return Is.ColorPresentationRequest}});var Yl=Cs();Object.defineProperty(u,"FoldingRangeRequest",{enumerable:!0,get:function(){return Yl.FoldingRangeRequest}});var Jl=Ss();Object.defineProperty(u,"DeclarationRequest",{enumerable:!0,get:function(){return Jl.DeclarationRequest}});var Gl=ks();Object.defineProperty(u,"SelectionRangeRequest",{enumerable:!0,get:function(){return Gl.SelectionRangeRequest}});var Vi=Es();Object.defineProperty(u,"WorkDoneProgress",{enumerable:!0,get:function(){return Vi.WorkDoneProgress}});Object.defineProperty(u,"WorkDoneProgressCreateRequest",{enumerable:!0,get:function(){return Vi.WorkDoneProgressCreateRequest}});Object.defineProperty(u,"WorkDoneProgressCancelNotification",{enumerable:!0,get:function(){return Vi.WorkDoneProgressCancelNotification}});var Hi=Os();Object.defineProperty(u,"CallHierarchyIncomingCallsRequest",{enumerable:!0,get:function(){return Hi.CallHierarchyIncomingCallsRequest}});Object.defineProperty(u,"CallHierarchyOutgoingCallsRequest",{enumerable:!0,get:function(){return Hi.CallHierarchyOutgoingCallsRequest}});Object.defineProperty(u,"CallHierarchyPrepareRequest",{enumerable:!0,get:function(){return Hi.CallHierarchyPrepareRequest}});var $e=Ns();Object.defineProperty(u,"SemanticTokenTypes",{enumerable:!0,get:function(){return $e.SemanticTokenTypes}});Object.defineProperty(u,"SemanticTokenModifiers",{enumerable:!0,get:function(){return $e.SemanticTokenModifiers}});Object.defineProperty(u,"SemanticTokens",{enumerable:!0,get:function(){return $e.SemanticTokens}});Object.defineProperty(u,"TokenFormat",{enumerable:!0,get:function(){return $e.TokenFormat}});Object.defineProperty(u,"SemanticTokensRequest",{enumerable:!0,get:function(){return $e.SemanticTokensRequest}});Object.defineProperty(u,"SemanticTokensDeltaRequest",{enumerable:!0,get:function(){return $e.SemanticTokensDeltaRequest}});Object.defineProperty(u,"SemanticTokensRangeRequest",{enumerable:!0,get:function(){return $e.SemanticTokensRangeRequest}});Object.defineProperty(u,"SemanticTokensRefreshRequest",{enumerable:!0,get:function(){return $e.SemanticTokensRefreshRequest}});Object.defineProperty(u,"SemanticTokensRegistrationType",{enumerable:!0,get:function(){return $e.SemanticTokensRegistrationType}});var Zl=xs();Object.defineProperty(u,"ShowDocumentRequest",{enumerable:!0,get:function(){return Zl.ShowDocumentRequest}});var Ql=Ms();Object.defineProperty(u,"LinkedEditingRangeRequest",{enumerable:!0,get:function(){return Ql.LinkedEditingRangeRequest}});var gt=Fs();Object.defineProperty(u,"FileOperationPatternKind",{enumerable:!0,get:function(){return gt.FileOperationPatternKind}});Object.defineProperty(u,"DidCreateFilesNotification",{enumerable:!0,get:function(){return gt.DidCreateFilesNotification}});Object.defineProperty(u,"WillCreateFilesRequest",{enumerable:!0,get:function(){return gt.WillCreateFilesRequest}});Object.defineProperty(u,"DidRenameFilesNotification",{enumerable:!0,get:function(){return gt.DidRenameFilesNotification}});Object.defineProperty(u,"WillRenameFilesRequest",{enumerable:!0,get:function(){return gt.WillRenameFilesRequest}});Object.defineProperty(u,"DidDeleteFilesNotification",{enumerable:!0,get:function(){return gt.DidDeleteFilesNotification}});Object.defineProperty(u,"WillDeleteFilesRequest",{enumerable:!0,get:function(){return gt.WillDeleteFilesRequest}});var $i=js();Object.defineProperty(u,"UniquenessLevel",{enumerable:!0,get:function(){return $i.UniquenessLevel}});Object.defineProperty(u,"MonikerKind",{enumerable:!0,get:function(){return $i.MonikerKind}});Object.defineProperty(u,"MonikerRequest",{enumerable:!0,get:function(){return $i.MonikerRequest}});var Ws;(function(t){function e(n){let r=n;return Ze.string(r.language)||Ze.string(r.scheme)||Ze.string(r.pattern)}t.is=e})(Ws=u.DocumentFilter||(u.DocumentFilter={}));var As;(function(t){function e(n){if(!Array.isArray(n))return!1;for(let r of n)if(!Ze.string(r)&&!Ws.is(r))return!1;return!0}t.is=e})(As=u.DocumentSelector||(u.DocumentSelector={}));var Xl;(function(t){t.type=new I.ProtocolRequestType("client/registerCapability")})(Xl=u.RegistrationRequest||(u.RegistrationRequest={}));var ed;(function(t){t.type=new I.ProtocolRequestType("client/unregisterCapability")})(ed=u.UnregistrationRequest||(u.UnregistrationRequest={}));var td;(function(t){t.Create="create",t.Rename="rename",t.Delete="delete"})(td=u.ResourceOperationKind||(u.ResourceOperationKind={}));var nd;(function(t){t.Abort="abort",t.Transactional="transactional",t.TextOnlyTransactional="textOnlyTransactional",t.Undo="undo"})(nd=u.FailureHandlingKind||(u.FailureHandlingKind={}));var rd;(function(t){function e(n){let r=n;return r&&Ze.string(r.id)&&r.id.length>0}t.hasId=e})(rd=u.StaticRegistrationOptions||(u.StaticRegistrationOptions={}));var id;(function(t){function e(n){let r=n;return r&&(r.documentSelector===null||As.is(r.documentSelector))}t.is=e})(id=u.TextDocumentRegistrationOptions||(u.TextDocumentRegistrationOptions={}));var od;(function(t){function e(r){let i=r;return Ze.objectLiteral(i)&&(i.workDoneProgress===void 0||Ze.boolean(i.workDoneProgress))}t.is=e;function n(r){let i=r;return i&&Ze.boolean(i.workDoneProgress)}t.hasWorkDoneProgress=n})(od=u.WorkDoneProgressOptions||(u.WorkDoneProgressOptions={}));var sd;(function(t){t.type=new I.ProtocolRequestType("initialize")})(sd=u.InitializeRequest||(u.InitializeRequest={}));var ad;(function(t){t.unknownProtocolVersion=1})(ad=u.InitializeError||(u.InitializeError={}));var cd;(function(t){t.type=new I.ProtocolNotificationType("initialized")})(cd=u.InitializedNotification||(u.InitializedNotification={}));var ud;(function(t){t.type=new I.ProtocolRequestType0("shutdown")})(ud=u.ShutdownRequest||(u.ShutdownRequest={}));var ld;(function(t){t.type=new I.ProtocolNotificationType0("exit")})(ld=u.ExitNotification||(u.ExitNotification={}));var dd;(function(t){t.type=new I.ProtocolNotificationType("workspace/didChangeConfiguration")})(dd=u.DidChangeConfigurationNotification||(u.DidChangeConfigurationNotification={}));var fd;(function(t){t.Error=1,t.Warning=2,t.Info=3,t.Log=4})(fd=u.MessageType||(u.MessageType={}));var hd;(function(t){t.type=new I.ProtocolNotificationType("window/showMessage")})(hd=u.ShowMessageNotification||(u.ShowMessageNotification={}));var pd;(function(t){t.type=new I.ProtocolRequestType("window/showMessageRequest")})(pd=u.ShowMessageRequest||(u.ShowMessageRequest={}));var gd;(function(t){t.type=new I.ProtocolNotificationType("window/logMessage")})(gd=u.LogMessageNotification||(u.LogMessageNotification={}));var md;(function(t){t.type=new I.ProtocolNotificationType("telemetry/event")})(md=u.TelemetryEventNotification||(u.TelemetryEventNotification={}));var yd;(function(t){t.None=0,t.Full=1,t.Incremental=2})(yd=u.TextDocumentSyncKind||(u.TextDocumentSyncKind={}));var vd;(function(t){t.method="textDocument/didOpen",t.type=new I.ProtocolNotificationType(t.method)})(vd=u.DidOpenTextDocumentNotification||(u.DidOpenTextDocumentNotification={}));var bd;(function(t){function e(r){let i=r;return i!=null&&typeof i.text=="string"&&i.range!==void 0&&(i.rangeLength===void 0||typeof i.rangeLength=="number")}t.isIncremental=e;function n(r){let i=r;return i!=null&&typeof i.text=="string"&&i.range===void 0&&i.rangeLength===void 0}t.isFull=n})(bd=u.TextDocumentContentChangeEvent||(u.TextDocumentContentChangeEvent={}));var Rd;(function(t){t.method="textDocument/didChange",t.type=new I.ProtocolNotificationType(t.method)})(Rd=u.DidChangeTextDocumentNotification||(u.DidChangeTextDocumentNotification={}));var _d;(function(t){t.method="textDocument/didClose",t.type=new I.ProtocolNotificationType(t.method)})(_d=u.DidCloseTextDocumentNotification||(u.DidCloseTextDocumentNotification={}));var wd;(function(t){t.method="textDocument/didSave",t.type=new I.ProtocolNotificationType(t.method)})(wd=u.DidSaveTextDocumentNotification||(u.DidSaveTextDocumentNotification={}));var qd;(function(t){t.Manual=1,t.AfterDelay=2,t.FocusOut=3})(qd=u.TextDocumentSaveReason||(u.TextDocumentSaveReason={}));var Pd;(function(t){t.method="textDocument/willSave",t.type=new I.ProtocolNotificationType(t.method)})(Pd=u.WillSaveTextDocumentNotification||(u.WillSaveTextDocumentNotification={}));var Td;(function(t){t.method="textDocument/willSaveWaitUntil",t.type=new I.ProtocolRequestType(t.method)})(Td=u.WillSaveTextDocumentWaitUntilRequest||(u.WillSaveTextDocumentWaitUntilRequest={}));var Cd;(function(t){t.type=new I.ProtocolNotificationType("workspace/didChangeWatchedFiles")})(Cd=u.DidChangeWatchedFilesNotification||(u.DidChangeWatchedFilesNotification={}));var Sd;(function(t){t.Created=1,t.Changed=2,t.Deleted=3})(Sd=u.FileChangeType||(u.FileChangeType={}));var kd;(function(t){t.Create=1,t.Change=2,t.Delete=4})(kd=u.WatchKind||(u.WatchKind={}));var Dd;(function(t){t.type=new I.ProtocolNotificationType("textDocument/publishDiagnostics")})(Dd=u.PublishDiagnosticsNotification||(u.PublishDiagnosticsNotification={}));var Ed;(function(t){t.Invoked=1,t.TriggerCharacter=2,t.TriggerForIncompleteCompletions=3})(Ed=u.CompletionTriggerKind||(u.CompletionTriggerKind={}));var Od;(function(t){t.method="textDocument/completion",t.type=new I.ProtocolRequestType(t.method)})(Od=u.CompletionRequest||(u.CompletionRequest={}));var Nd;(function(t){t.method="completionItem/resolve",t.type=new I.ProtocolRequestType(t.method)})(Nd=u.CompletionResolveRequest||(u.CompletionResolveRequest={}));var xd;(function(t){t.method="textDocument/hover",t.type=new I.ProtocolRequestType(t.method)})(xd=u.HoverRequest||(u.HoverRequest={}));var Md;(function(t){t.Invoked=1,t.TriggerCharacter=2,t.ContentChange=3})(Md=u.SignatureHelpTriggerKind||(u.SignatureHelpTriggerKind={}));var Fd;(function(t){t.method="textDocument/signatureHelp",t.type=new I.ProtocolRequestType(t.method)})(Fd=u.SignatureHelpRequest||(u.SignatureHelpRequest={}));var jd;(function(t){t.method="textDocument/definition",t.type=new I.ProtocolRequestType(t.method)})(jd=u.DefinitionRequest||(u.DefinitionRequest={}));var Ld;(function(t){t.method="textDocument/references",t.type=new I.ProtocolRequestType(t.method)})(Ld=u.ReferencesRequest||(u.ReferencesRequest={}));var Id;(function(t){t.method="textDocument/documentHighlight",t.type=new I.ProtocolRequestType(t.method)})(Id=u.DocumentHighlightRequest||(u.DocumentHighlightRequest={}));var Wd;(function(t){t.method="textDocument/documentSymbol",t.type=new I.ProtocolRequestType(t.method)})(Wd=u.DocumentSymbolRequest||(u.DocumentSymbolRequest={}));var Ad;(function(t){t.method="textDocument/codeAction",t.type=new I.ProtocolRequestType(t.method)})(Ad=u.CodeActionRequest||(u.CodeActionRequest={}));var Vd;(function(t){t.method="codeAction/resolve",t.type=new I.ProtocolRequestType(t.method)})(Vd=u.CodeActionResolveRequest||(u.CodeActionResolveRequest={}));var Hd;(function(t){t.method="workspace/symbol",t.type=new I.ProtocolRequestType(t.method)})(Hd=u.WorkspaceSymbolRequest||(u.WorkspaceSymbolRequest={}));var $d;(function(t){t.method="textDocument/codeLens",t.type=new I.ProtocolRequestType(t.method)})($d=u.CodeLensRequest||(u.CodeLensRequest={}));var zd;(function(t){t.method="codeLens/resolve",t.type=new I.ProtocolRequestType(t.method)})(zd=u.CodeLensResolveRequest||(u.CodeLensResolveRequest={}));var Bd;(function(t){t.method="workspace/codeLens/refresh",t.type=new I.ProtocolRequestType0(t.method)})(Bd=u.CodeLensRefreshRequest||(u.CodeLensRefreshRequest={}));var Ud;(function(t){t.method="textDocument/documentLink",t.type=new I.ProtocolRequestType(t.method)})(Ud=u.DocumentLinkRequest||(u.DocumentLinkRequest={}));var Kd;(function(t){t.method="documentLink/resolve",t.type=new I.ProtocolRequestType(t.method)})(Kd=u.DocumentLinkResolveRequest||(u.DocumentLinkResolveRequest={}));var Yd;(function(t){t.method="textDocument/formatting",t.type=new I.ProtocolRequestType(t.method)})(Yd=u.DocumentFormattingRequest||(u.DocumentFormattingRequest={}));var Jd;(function(t){t.method="textDocument/rangeFormatting",t.type=new I.ProtocolRequestType(t.method)})(Jd=u.DocumentRangeFormattingRequest||(u.DocumentRangeFormattingRequest={}));var Gd;(function(t){t.method="textDocument/onTypeFormatting",t.type=new I.ProtocolRequestType(t.method)})(Gd=u.DocumentOnTypeFormattingRequest||(u.DocumentOnTypeFormattingRequest={}));var Zd;(function(t){t.Identifier=1})(Zd=u.PrepareSupportDefaultBehavior||(u.PrepareSupportDefaultBehavior={}));var Qd;(function(t){t.method="textDocument/rename",t.type=new I.ProtocolRequestType(t.method)})(Qd=u.RenameRequest||(u.RenameRequest={}));var Xd;(function(t){t.method="textDocument/prepareRename",t.type=new I.ProtocolRequestType(t.method)})(Xd=u.PrepareRenameRequest||(u.PrepareRenameRequest={}));var ef;(function(t){t.type=new I.ProtocolRequestType("workspace/executeCommand")})(ef=u.ExecuteCommandRequest||(u.ExecuteCommandRequest={}));var tf;(function(t){t.type=new I.ProtocolRequestType("workspace/applyEdit")})(tf=u.ApplyWorkspaceEditRequest||(u.ApplyWorkspaceEditRequest={}))});var $s=C(Mn=>{"use strict";Object.defineProperty(Mn,"__esModule",{value:!0});Mn.createProtocolConnection=void 0;var Hs=Et();function nf(t,e,n,r){return Hs.ConnectionStrategy.is(r)&&(r={connectionStrategy:r}),Hs.createMessageConnection(t,e,n,r)}Mn.createProtocolConnection=nf});var zs=C(ge=>{"use strict";var rf=ge&&ge.__createBinding||(Object.create?function(t,e,n,r){r===void 0&&(r=n),Object.defineProperty(t,r,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,r){r===void 0&&(r=n),t[r]=e[n]}),Fn=ge&&ge.__exportStar||function(t,e){for(var n in t)n!=="default"&&!Object.prototype.hasOwnProperty.call(e,n)&&rf(e,t,n)};Object.defineProperty(ge,"__esModule",{value:!0});ge.LSPErrorCodes=ge.createProtocolConnection=void 0;Fn(Et(),ge);Fn(gs(),ge);Fn(le(),ge);Fn(Vs(),ge);var of=$s();Object.defineProperty(ge,"createProtocolConnection",{enumerable:!0,get:function(){return of.createProtocolConnection}});var sf;(function(t){t.lspReservedErrorRangeStart=-32899,t.ContentModified=-32801,t.RequestCancelled=-32800,t.lspReservedErrorRangeEnd=-32800})(sf=ge.LSPErrorCodes||(ge.LSPErrorCodes={}))});var Re=C(je=>{"use strict";var af=je&&je.__createBinding||(Object.create?function(t,e,n,r){r===void 0&&(r=n),Object.defineProperty(t,r,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,r){r===void 0&&(r=n),t[r]=e[n]}),Bs=je&&je.__exportStar||function(t,e){for(var n in t)n!=="default"&&!Object.prototype.hasOwnProperty.call(e,n)&&af(e,t,n)};Object.defineProperty(je,"__esModule",{value:!0});je.createProtocolConnection=void 0;var cf=Mi();Bs(Mi(),je);Bs(zs(),je);function uf(t,e,n,r){return cf.createMessageConnection(t,e,n,r)}je.createProtocolConnection=uf});var zi=C(Te=>{"use strict";Object.defineProperty(Te,"__esModule",{value:!0});Te.generateUuid=Te.parse=Te.isUUID=Te.v4=Te.empty=void 0;var nn=class{constructor(e){this._value=e}asHex(){return this._value}equals(e){return this.asHex()===e.asHex()}},H=class extends nn{constructor(){super([H._randomHex(),H._randomHex(),H._randomHex(),H._randomHex(),H._randomHex(),H._randomHex(),H._randomHex(),H._randomHex(),"-",H._randomHex(),H._randomHex(),H._randomHex(),H._randomHex(),"-","4",H._randomHex(),H._randomHex(),H._randomHex(),"-",H._oneOf(H._timeHighBits),H._randomHex(),H._randomHex(),H._randomHex(),"-",H._randomHex(),H._randomHex(),H._randomHex(),H._randomHex(),H._randomHex(),H._randomHex(),H._randomHex(),H._randomHex(),H._randomHex(),H._randomHex(),H._randomHex(),H._randomHex()].join(""))}static _oneOf(e){return e[Math.floor(e.length*Math.random())]}static _randomHex(){return H._oneOf(H._chars)}};H._chars=["0","1","2","3","4","5","6","6","7","8","9","a","b","c","d","e","f"];H._timeHighBits=["8","9","a","b"];Te.empty=new nn("00000000-0000-0000-0000-000000000000");function Us(){return new H}Te.v4=Us;var lf=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i;function Ks(t){return lf.test(t)}Te.isUUID=Ks;function df(t){if(!Ks(t))throw new Error("invalid uuid");return new nn(t)}Te.parse=df;function ff(){return Us().asHex()}Te.generateUuid=ff});var Ys=C(Xe=>{"use strict";Object.defineProperty(Xe,"__esModule",{value:!0});Xe.attachPartialResult=Xe.ProgressFeature=Xe.attachWorkDone=void 0;var Qe=Re(),hf=zi(),Le=class{constructor(e,n){this._connection=e,this._token=n,Le.Instances.set(this._token,this)}begin(e,n,r,i){let a={kind:"begin",title:e,percentage:n,message:r,cancellable:i};this._connection.sendProgress(Qe.WorkDoneProgress.type,this._token,a)}report(e,n){let r={kind:"report"};typeof e=="number"?(r.percentage=e,n!==void 0&&(r.message=n)):r.message=e,this._connection.sendProgress(Qe.WorkDoneProgress.type,this._token,r)}done(){Le.Instances.delete(this._token),this._connection.sendProgress(Qe.WorkDoneProgress.type,this._token,{kind:"end"})}};Le.Instances=new Map;var jn=class extends Le{constructor(e,n){super(e,n),this._source=new Qe.CancellationTokenSource}get token(){return this._source.token}done(){this._source.dispose(),super.done()}cancel(){this._source.cancel()}},rn=class{constructor(){}begin(){}report(){}done(){}},Ln=class extends rn{constructor(){super(),this._source=new Qe.CancellationTokenSource}get token(){return this._source.token}done(){this._source.dispose()}cancel(){this._source.cancel()}};function pf(t,e){if(e===void 0||e.workDoneToken===void 0)return new rn;let n=e.workDoneToken;return delete e.workDoneToken,new Le(t,n)}Xe.attachWorkDone=pf;var gf=t=>class extends t{constructor(){super(),this._progressSupported=!1}initialize(e){var n;((n=e?.window)===null||n===void 0?void 0:n.workDoneProgress)===!0&&(this._progressSupported=!0,this.connection.onNotification(Qe.WorkDoneProgressCancelNotification.type,r=>{let i=Le.Instances.get(r.token);(i instanceof jn||i instanceof Ln)&&i.cancel()}))}attachWorkDoneProgress(e){return e===void 0?new rn:new Le(this.connection,e)}createWorkDoneProgress(){if(this._progressSupported){let e=hf.generateUuid();return this.connection.sendRequest(Qe.WorkDoneProgressCreateRequest.type,{token:e}).then(()=>new jn(this.connection,e))}else return Promise.resolve(new Ln)}};Xe.ProgressFeature=gf;var Bi;(function(t){t.type=new Qe.ProgressType})(Bi||(Bi={}));var Ui=class{constructor(e,n){this._connection=e,this._token=n}report(e){this._connection.sendProgress(Bi.type,this._token,e)}};function mf(t,e){if(e===void 0||e.partialResultToken===void 0)return;let n=e.partialResultToken;return delete e.partialResultToken,new Ui(t,n)}Xe.attachPartialResult=mf});var Js=C(In=>{"use strict";Object.defineProperty(In,"__esModule",{value:!0});In.ConfigurationFeature=void 0;var yf=Re(),vf=Rn(),bf=t=>class extends t{getConfiguration(e){return e?vf.string(e)?this._getConfiguration({section:e}):this._getConfiguration(e):this._getConfiguration({})}_getConfiguration(e){let n={items:Array.isArray(e)?e:[e]};return this.connection.sendRequest(yf.ConfigurationRequest.type,n).then(r=>Array.isArray(e)?r:r[0])}};In.ConfigurationFeature=bf});var Gs=C(An=>{"use strict";Object.defineProperty(An,"__esModule",{value:!0});An.WorkspaceFoldersFeature=void 0;var Wn=Re(),Rf=t=>class extends t{initialize(e){let n=e.workspace;n&&n.workspaceFolders&&(this._onDidChangeWorkspaceFolders=new Wn.Emitter,this.connection.onNotification(Wn.DidChangeWorkspaceFoldersNotification.type,r=>{this._onDidChangeWorkspaceFolders.fire(r.event)}))}getWorkspaceFolders(){return this.connection.sendRequest(Wn.WorkspaceFoldersRequest.type)}get onDidChangeWorkspaceFolders(){if(!this._onDidChangeWorkspaceFolders)throw new Error("Client doesn't support sending workspace folder change events.");return this._unregistration||(this._unregistration=this.connection.client.register(Wn.DidChangeWorkspaceFoldersNotification.type)),this._onDidChangeWorkspaceFolders.event}};An.WorkspaceFoldersFeature=Rf});var Zs=C(Vn=>{"use strict";Object.defineProperty(Vn,"__esModule",{value:!0});Vn.CallHierarchyFeature=void 0;var Ki=Re(),_f=t=>class extends t{get callHierarchy(){return{onPrepare:e=>{this.connection.onRequest(Ki.CallHierarchyPrepareRequest.type,(n,r)=>e(n,r,this.attachWorkDoneProgress(n),void 0))},onIncomingCalls:e=>{let n=Ki.CallHierarchyIncomingCallsRequest.type;this.connection.onRequest(n,(r,i)=>e(r,i,this.attachWorkDoneProgress(r),this.attachPartialResultProgress(n,r)))},onOutgoingCalls:e=>{let n=Ki.CallHierarchyOutgoingCallsRequest.type;this.connection.onRequest(n,(r,i)=>e(r,i,this.attachWorkDoneProgress(r),this.attachPartialResultProgress(n,r)))}}}};Vn.CallHierarchyFeature=_f});var Gi=C(xt=>{"use strict";Object.defineProperty(xt,"__esModule",{value:!0});xt.SemanticTokensBuilder=xt.SemanticTokensFeature=void 0;var Yi=Re(),wf=t=>class extends t{get semanticTokens(){return{on:e=>{let n=Yi.SemanticTokensRequest.type;this.connection.onRequest(n,(r,i)=>e(r,i,this.attachWorkDoneProgress(r),this.attachPartialResultProgress(n,r)))},onDelta:e=>{let n=Yi.SemanticTokensDeltaRequest.type;this.connection.onRequest(n,(r,i)=>e(r,i,this.attachWorkDoneProgress(r),this.attachPartialResultProgress(n,r)))},onRange:e=>{let n=Yi.SemanticTokensRangeRequest.type;this.connection.onRequest(n,(r,i)=>e(r,i,this.attachWorkDoneProgress(r),this.attachPartialResultProgress(n,r)))}}}};xt.SemanticTokensFeature=wf;var Ji=class{constructor(){this._prevData=void 0,this.initialize()}initialize(){this._id=Date.now(),this._prevLine=0,this._prevChar=0,this._data=[],this._dataLen=0}push(e,n,r,i,a){let d=e,v=n;this._dataLen>0&&(d-=this._prevLine,d===0&&(v-=this._prevChar)),this._data[this._dataLen++]=d,this._data[this._dataLen++]=v,this._data[this._dataLen++]=r,this._data[this._dataLen++]=i,this._data[this._dataLen++]=a,this._prevLine=e,this._prevChar=n}get id(){return this._id.toString()}previousResult(e){this.id===e&&(this._prevData=this._data),this.initialize()}build(){return this._prevData=void 0,{resultId:this.id,data:this._data}}canBuildEdits(){return this._prevData!==void 0}buildEdits(){if(this._prevData!==void 0){let e=this._prevData.length,n=this._data.length,r=0;for(;r<n&&r<e&&this._prevData[r]===this._data[r];)r++;if(r<n&&r<e){let i=0;for(;i<n&&i<e&&this._prevData[e-1-i]===this._data[n-1-i];)i++;let a=this._data.slice(r,n-i);return{resultId:this.id,edits:[{start:r,deleteCount:e-i-r,data:a}]}}else return r<n?{resultId:this.id,edits:[{start:r,deleteCount:0,data:this._data.slice(r)}]}:r<e?{resultId:this.id,edits:[{start:r,deleteCount:e-r}]}:{resultId:this.id,edits:[]}}else return this.build()}};xt.SemanticTokensBuilder=Ji});var Qs=C(Hn=>{"use strict";Object.defineProperty(Hn,"__esModule",{value:!0});Hn.ShowDocumentFeature=void 0;var qf=Re(),Pf=t=>class extends t{showDocument(e){return this.connection.sendRequest(qf.ShowDocumentRequest.type,e)}};Hn.ShowDocumentFeature=Pf});var Xs=C($n=>{"use strict";Object.defineProperty($n,"__esModule",{value:!0});$n.FileOperationsFeature=void 0;var Mt=Re(),Tf=t=>class extends t{onDidCreateFiles(e){this.connection.onNotification(Mt.DidCreateFilesNotification.type,n=>{e(n)})}onDidRenameFiles(e){this.connection.onNotification(Mt.DidRenameFilesNotification.type,n=>{e(n)})}onDidDeleteFiles(e){this.connection.onNotification(Mt.DidDeleteFilesNotification.type,n=>{e(n)})}onWillCreateFiles(e){return this.connection.onRequest(Mt.WillCreateFilesRequest.type,(n,r)=>e(n,r))}onWillRenameFiles(e){return this.connection.onRequest(Mt.WillRenameFilesRequest.type,(n,r)=>e(n,r))}onWillDeleteFiles(e){return this.connection.onRequest(Mt.WillDeleteFilesRequest.type,(n,r)=>e(n,r))}};$n.FileOperationsFeature=Tf});var ea=C(zn=>{"use strict";Object.defineProperty(zn,"__esModule",{value:!0});zn.LinkedEditingRangeFeature=void 0;var Cf=Re(),Sf=t=>class extends t{onLinkedEditingRange(e){this.connection.onRequest(Cf.LinkedEditingRangeRequest.type,(n,r)=>e(n,r,this.attachWorkDoneProgress(n),void 0))}};zn.LinkedEditingRangeFeature=Sf});var ta=C(Bn=>{"use strict";Object.defineProperty(Bn,"__esModule",{value:!0});Bn.MonikerFeature=void 0;var kf=Re(),Df=t=>class extends t{get moniker(){return{on:e=>{let n=kf.MonikerRequest.type;this.connection.onRequest(n,(r,i)=>e(r,i,this.attachWorkDoneProgress(r),this.attachPartialResultProgress(n,r)))}}}};Bn.MonikerFeature=Df});var ro=C(J=>{"use strict";Object.defineProperty(J,"__esModule",{value:!0});J.createConnection=J.combineFeatures=J.combineLanguagesFeatures=J.combineWorkspaceFeatures=J.combineWindowFeatures=J.combineClientFeatures=J.combineTracerFeatures=J.combineTelemetryFeatures=J.combineConsoleFeatures=J._LanguagesImpl=J.BulkUnregistration=J.BulkRegistration=J.ErrorMessageTracker=J.TextDocuments=void 0;var D=Re(),Ce=Rn(),Qi=zi(),W=Ys(),Ef=Js(),Of=Gs(),Nf=Zs(),xf=Gi(),Mf=Qs(),Ff=Xs(),jf=ea(),Lf=ta();function Zi(t){if(t!==null)return t}var Xi=class{constructor(e){this._documents=Object.create(null),this._configuration=e,this._onDidChangeContent=new D.Emitter,this._onDidOpen=new D.Emitter,this._onDidClose=new D.Emitter,this._onDidSave=new D.Emitter,this._onWillSave=new D.Emitter}get onDidChangeContent(){return this._onDidChangeContent.event}get onDidOpen(){return this._onDidOpen.event}get onWillSave(){return this._onWillSave.event}onWillSaveWaitUntil(e){this._willSaveWaitUntil=e}get onDidSave(){return this._onDidSave.event}get onDidClose(){return this._onDidClose.event}get(e){return this._documents[e]}all(){return Object.keys(this._documents).map(e=>this._documents[e])}keys(){return Object.keys(this._documents)}listen(e){e.__textDocumentSync=D.TextDocumentSyncKind.Full,e.onDidOpenTextDocument(n=>{let r=n.textDocument,i=this._configuration.create(r.uri,r.languageId,r.version,r.text);this._documents[r.uri]=i;let a=Object.freeze({document:i});this._onDidOpen.fire(a),this._onDidChangeContent.fire(a)}),e.onDidChangeTextDocument(n=>{let r=n.textDocument,i=n.contentChanges;if(i.length===0)return;let a=this._documents[r.uri],{version:d}=r;if(d==null)throw new Error(`Received document change event for ${r.uri} without valid version identifier`);a=this._configuration.update(a,i,d),this._documents[r.uri]=a,this._onDidChangeContent.fire(Object.freeze({document:a}))}),e.onDidCloseTextDocument(n=>{let r=this._documents[n.textDocument.uri];r&&(delete this._documents[n.textDocument.uri],this._onDidClose.fire(Object.freeze({document:r})))}),e.onWillSaveTextDocument(n=>{let r=this._documents[n.textDocument.uri];r&&this._onWillSave.fire(Object.freeze({document:r,reason:n.reason}))}),e.onWillSaveTextDocumentWaitUntil((n,r)=>{let i=this._documents[n.textDocument.uri];return i&&this._willSaveWaitUntil?this._willSaveWaitUntil(Object.freeze({document:i,reason:n.reason}),r):[]}),e.onDidSaveTextDocument(n=>{let r=this._documents[n.textDocument.uri];r&&this._onDidSave.fire(Object.freeze({document:r}))})}};J.TextDocuments=Xi;var eo=class{constructor(){this._messages=Object.create(null)}add(e){let n=this._messages[e];n||(n=0),n++,this._messages[e]=n}sendErrors(e){Object.keys(this._messages).forEach(n=>{e.window.showErrorMessage(n)})}};J.ErrorMessageTracker=eo;var Un=class{constructor(){}rawAttach(e){this._rawConnection=e}attach(e){this._connection=e}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}fillServerCapabilities(e){}initialize(e){}error(e){this.send(D.MessageType.Error,e)}warn(e){this.send(D.MessageType.Warning,e)}info(e){this.send(D.MessageType.Info,e)}log(e){this.send(D.MessageType.Log,e)}send(e,n){this._rawConnection&&this._rawConnection.sendNotification(D.LogMessageNotification.type,{type:e,message:n})}},to=class{constructor(){}attach(e){this._connection=e}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(e){}fillServerCapabilities(e){}showErrorMessage(e,...n){let r={type:D.MessageType.Error,message:e,actions:n};return this.connection.sendRequest(D.ShowMessageRequest.type,r).then(Zi)}showWarningMessage(e,...n){let r={type:D.MessageType.Warning,message:e,actions:n};return this.connection.sendRequest(D.ShowMessageRequest.type,r).then(Zi)}showInformationMessage(e,...n){let r={type:D.MessageType.Info,message:e,actions:n};return this.connection.sendRequest(D.ShowMessageRequest.type,r).then(Zi)}},na=Mf.ShowDocumentFeature(W.ProgressFeature(to)),If;(function(t){function e(){return new Kn}t.create=e})(If=J.BulkRegistration||(J.BulkRegistration={}));var Kn=class{constructor(){this._registrations=[],this._registered=new Set}add(e,n){let r=Ce.string(e)?e:e.method;if(this._registered.has(r))throw new Error(`${r} is already added to this registration`);let i=Qi.generateUuid();this._registrations.push({id:i,method:r,registerOptions:n||{}}),this._registered.add(r)}asRegistrationParams(){return{registrations:this._registrations}}},Wf;(function(t){function e(){return new on(void 0,[])}t.create=e})(Wf=J.BulkUnregistration||(J.BulkUnregistration={}));var on=class{constructor(e,n){this._connection=e,this._unregistrations=new Map,n.forEach(r=>{this._unregistrations.set(r.method,r)})}get isAttached(){return!!this._connection}attach(e){this._connection=e}add(e){this._unregistrations.set(e.method,e)}dispose(){let e=[];for(let r of this._unregistrations.values())e.push(r);let n={unregisterations:e};this._connection.sendRequest(D.UnregistrationRequest.type,n).then(void 0,r=>{this._connection.console.info("Bulk unregistration failed.")})}disposeSingle(e){let n=Ce.string(e)?e:e.method,r=this._unregistrations.get(n);if(!r)return!1;let i={unregisterations:[r]};return this._connection.sendRequest(D.UnregistrationRequest.type,i).then(()=>{this._unregistrations.delete(n)},a=>{this._connection.console.info(`Un-registering request handler for ${r.id} failed.`)}),!0}},Yn=class{attach(e){this._connection=e}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(e){}fillServerCapabilities(e){}register(e,n,r){return e instanceof Kn?this.registerMany(e):e instanceof on?this.registerSingle1(e,n,r):this.registerSingle2(e,n)}registerSingle1(e,n,r){let i=Ce.string(n)?n:n.method,a=Qi.generateUuid(),d={registrations:[{id:a,method:i,registerOptions:r||{}}]};return e.isAttached||e.attach(this.connection),this.connection.sendRequest(D.RegistrationRequest.type,d).then(v=>(e.add({id:a,method:i}),e),v=>(this.connection.console.info(`Registering request handler for ${i} failed.`),Promise.reject(v)))}registerSingle2(e,n){let r=Ce.string(e)?e:e.method,i=Qi.generateUuid(),a={registrations:[{id:i,method:r,registerOptions:n||{}}]};return this.connection.sendRequest(D.RegistrationRequest.type,a).then(d=>D.Disposable.create(()=>{this.unregisterSingle(i,r)}),d=>(this.connection.console.info(`Registering request handler for ${r} failed.`),Promise.reject(d)))}unregisterSingle(e,n){let r={unregisterations:[{id:e,method:n}]};return this.connection.sendRequest(D.UnregistrationRequest.type,r).then(void 0,i=>{this.connection.console.info(`Un-registering request handler for ${e} failed.`)})}registerMany(e){let n=e.asRegistrationParams();return this.connection.sendRequest(D.RegistrationRequest.type,n).then(()=>new on(this._connection,n.registrations.map(r=>({id:r.id,method:r.method}))),r=>(this.connection.console.info("Bulk registration failed."),Promise.reject(r)))}},no=class{constructor(){}attach(e){this._connection=e}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(e){}fillServerCapabilities(e){}applyEdit(e){function n(i){return i&&!!i.edit}let r=n(e)?e:{edit:e};return this.connection.sendRequest(D.ApplyWorkspaceEditRequest.type,r)}},ra=Ff.FileOperationsFeature(Of.WorkspaceFoldersFeature(Ef.ConfigurationFeature(no))),Jn=class{constructor(){this._trace=D.Trace.Off}attach(e){this._connection=e}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(e){}fillServerCapabilities(e){}set trace(e){this._trace=e}log(e,n){this._trace!==D.Trace.Off&&this.connection.sendNotification(D.LogTraceNotification.type,{message:e,verbose:this._trace===D.Trace.Verbose?n:void 0})}},Gn=class{constructor(){}attach(e){this._connection=e}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(e){}fillServerCapabilities(e){}logEvent(e){this.connection.sendNotification(D.TelemetryEventNotification.type,e)}},Zn=class{constructor(){}attach(e){this._connection=e}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(e){}fillServerCapabilities(e){}attachWorkDoneProgress(e){return W.attachWorkDone(this.connection,e)}attachPartialResultProgress(e,n){return W.attachPartialResult(this.connection,n)}};J._LanguagesImpl=Zn;var ia=Lf.MonikerFeature(jf.LinkedEditingRangeFeature(xf.SemanticTokensFeature(Nf.CallHierarchyFeature(Zn))));function oa(t,e){return function(n){return e(t(n))}}J.combineConsoleFeatures=oa;function sa(t,e){return function(n){return e(t(n))}}J.combineTelemetryFeatures=sa;function aa(t,e){return function(n){return e(t(n))}}J.combineTracerFeatures=aa;function ca(t,e){return function(n){return e(t(n))}}J.combineClientFeatures=ca;function ua(t,e){return function(n){return e(t(n))}}J.combineWindowFeatures=ua;function la(t,e){return function(n){return e(t(n))}}J.combineWorkspaceFeatures=la;function Af(t,e){return function(n){return e(t(n))}}J.combineLanguagesFeatures=Af;function Vf(t,e){function n(i,a,d){return i&&a?d(i,a):i||a}return{__brand:"features",console:n(t.console,e.console,oa),tracer:n(t.tracer,e.tracer,aa),telemetry:n(t.telemetry,e.telemetry,sa),client:n(t.client,e.client,ca),window:n(t.window,e.window,ua),workspace:n(t.workspace,e.workspace,la)}}J.combineFeatures=Vf;function Hf(t,e,n){let r=n&&n.console?new(n.console(Un)):new Un,i=t(r);r.rawAttach(i);let a=n&&n.tracer?new(n.tracer(Jn)):new Jn,d=n&&n.telemetry?new(n.telemetry(Gn)):new Gn,v=n&&n.client?new(n.client(Yn)):new Yn,h=n&&n.window?new(n.window(na)):new na,m=n&&n.workspace?new(n.workspace(ra)):new ra,R=n&&n.languages?new(n.languages(ia)):new ia,P=[r,a,d,v,h,m,R];function q(_){return _ instanceof Promise?_:Ce.thenable(_)?new Promise((b,S)=>{_.then(M=>b(M),M=>S(M))}):Promise.resolve(_)}let k,x,A,K={listen:()=>i.listen(),sendRequest:(_,...b)=>i.sendRequest(Ce.string(_)?_:_.method,...b),onRequest:(_,b)=>i.onRequest(_,b),sendNotification:(_,b)=>{let S=Ce.string(_)?_:_.method;arguments.length===1?i.sendNotification(S):i.sendNotification(S,b)},onNotification:(_,b)=>i.onNotification(_,b),onProgress:i.onProgress,sendProgress:i.sendProgress,onInitialize:_=>x=_,onInitialized:_=>i.onNotification(D.InitializedNotification.type,_),onShutdown:_=>k=_,onExit:_=>A=_,get console(){return r},get telemetry(){return d},get tracer(){return a},get client(){return v},get window(){return h},get workspace(){return m},get languages(){return R},onDidChangeConfiguration:_=>i.onNotification(D.DidChangeConfigurationNotification.type,_),onDidChangeWatchedFiles:_=>i.onNotification(D.DidChangeWatchedFilesNotification.type,_),__textDocumentSync:void 0,onDidOpenTextDocument:_=>i.onNotification(D.DidOpenTextDocumentNotification.type,_),onDidChangeTextDocument:_=>i.onNotification(D.DidChangeTextDocumentNotification.type,_),onDidCloseTextDocument:_=>i.onNotification(D.DidCloseTextDocumentNotification.type,_),onWillSaveTextDocument:_=>i.onNotification(D.WillSaveTextDocumentNotification.type,_),onWillSaveTextDocumentWaitUntil:_=>i.onRequest(D.WillSaveTextDocumentWaitUntilRequest.type,_),onDidSaveTextDocument:_=>i.onNotification(D.DidSaveTextDocumentNotification.type,_),sendDiagnostics:_=>i.sendNotification(D.PublishDiagnosticsNotification.type,_),onHover:_=>i.onRequest(D.HoverRequest.type,(b,S)=>_(b,S,W.attachWorkDone(i,b),void 0)),onCompletion:_=>i.onRequest(D.CompletionRequest.type,(b,S)=>_(b,S,W.attachWorkDone(i,b),W.attachPartialResult(i,b))),onCompletionResolve:_=>i.onRequest(D.CompletionResolveRequest.type,_),onSignatureHelp:_=>i.onRequest(D.SignatureHelpRequest.type,(b,S)=>_(b,S,W.attachWorkDone(i,b),void 0)),onDeclaration:_=>i.onRequest(D.DeclarationRequest.type,(b,S)=>_(b,S,W.attachWorkDone(i,b),W.attachPartialResult(i,b))),onDefinition:_=>i.onRequest(D.DefinitionRequest.type,(b,S)=>_(b,S,W.attachWorkDone(i,b),W.attachPartialResult(i,b))),onTypeDefinition:_=>i.onRequest(D.TypeDefinitionRequest.type,(b,S)=>_(b,S,W.attachWorkDone(i,b),W.attachPartialResult(i,b))),onImplementation:_=>i.onRequest(D.ImplementationRequest.type,(b,S)=>_(b,S,W.attachWorkDone(i,b),W.attachPartialResult(i,b))),onReferences:_=>i.onRequest(D.ReferencesRequest.type,(b,S)=>_(b,S,W.attachWorkDone(i,b),W.attachPartialResult(i,b))),onDocumentHighlight:_=>i.onRequest(D.DocumentHighlightRequest.type,(b,S)=>_(b,S,W.attachWorkDone(i,b),W.attachPartialResult(i,b))),onDocumentSymbol:_=>i.onRequest(D.DocumentSymbolRequest.type,(b,S)=>_(b,S,W.attachWorkDone(i,b),W.attachPartialResult(i,b))),onWorkspaceSymbol:_=>i.onRequest(D.WorkspaceSymbolRequest.type,(b,S)=>_(b,S,W.attachWorkDone(i,b),W.attachPartialResult(i,b))),onCodeAction:_=>i.onRequest(D.CodeActionRequest.type,(b,S)=>_(b,S,W.attachWorkDone(i,b),W.attachPartialResult(i,b))),onCodeActionResolve:_=>i.onRequest(D.CodeActionResolveRequest.type,(b,S)=>_(b,S)),onCodeLens:_=>i.onRequest(D.CodeLensRequest.type,(b,S)=>_(b,S,W.attachWorkDone(i,b),W.attachPartialResult(i,b))),onCodeLensResolve:_=>i.onRequest(D.CodeLensResolveRequest.type,(b,S)=>_(b,S)),onDocumentFormatting:_=>i.onRequest(D.DocumentFormattingRequest.type,(b,S)=>_(b,S,W.attachWorkDone(i,b),void 0)),onDocumentRangeFormatting:_=>i.onRequest(D.DocumentRangeFormattingRequest.type,(b,S)=>_(b,S,W.attachWorkDone(i,b),void 0)),onDocumentOnTypeFormatting:_=>i.onRequest(D.DocumentOnTypeFormattingRequest.type,(b,S)=>_(b,S)),onRenameRequest:_=>i.onRequest(D.RenameRequest.type,(b,S)=>_(b,S,W.attachWorkDone(i,b),void 0)),onPrepareRename:_=>i.onRequest(D.PrepareRenameRequest.type,(b,S)=>_(b,S)),onDocumentLinks:_=>i.onRequest(D.DocumentLinkRequest.type,(b,S)=>_(b,S,W.attachWorkDone(i,b),W.attachPartialResult(i,b))),onDocumentLinkResolve:_=>i.onRequest(D.DocumentLinkResolveRequest.type,(b,S)=>_(b,S)),onDocumentColor:_=>i.onRequest(D.DocumentColorRequest.type,(b,S)=>_(b,S,W.attachWorkDone(i,b),W.attachPartialResult(i,b))),onColorPresentation:_=>i.onRequest(D.ColorPresentationRequest.type,(b,S)=>_(b,S,W.attachWorkDone(i,b),W.attachPartialResult(i,b))),onFoldingRanges:_=>i.onRequest(D.FoldingRangeRequest.type,(b,S)=>_(b,S,W.attachWorkDone(i,b),W.attachPartialResult(i,b))),onSelectionRanges:_=>i.onRequest(D.SelectionRangeRequest.type,(b,S)=>_(b,S,W.attachWorkDone(i,b),W.attachPartialResult(i,b))),onExecuteCommand:_=>i.onRequest(D.ExecuteCommandRequest.type,(b,S)=>_(b,S,W.attachWorkDone(i,b),void 0)),dispose:()=>i.dispose()};for(let _ of P)_.attach(K);return i.onRequest(D.InitializeRequest.type,_=>{e.initialize(_),Ce.string(_.trace)&&(a.trace=D.Trace.fromString(_.trace));for(let b of P)b.initialize(_.capabilities);if(x){let b=x(_,new D.CancellationTokenSource().token,W.attachWorkDone(i,_),void 0);return q(b).then(S=>{if(S instanceof D.ResponseError)return S;let M=S;M||(M={capabilities:{}});let $=M.capabilities;$||($={},M.capabilities=$),$.textDocumentSync===void 0||$.textDocumentSync===null?$.textDocumentSync=Ce.number(K.__textDocumentSync)?K.__textDocumentSync:D.TextDocumentSyncKind.None:!Ce.number($.textDocumentSync)&&!Ce.number($.textDocumentSync.change)&&($.textDocumentSync.change=Ce.number(K.__textDocumentSync)?K.__textDocumentSync:D.TextDocumentSyncKind.None);for(let be of P)be.fillServerCapabilities($);return M})}else{let b={capabilities:{textDocumentSync:D.TextDocumentSyncKind.None}};for(let S of P)S.fillServerCapabilities(b.capabilities);return b}}),i.onRequest(D.ShutdownRequest.type,()=>{if(e.shutdownReceived=!0,k)return k(new D.CancellationTokenSource().token)}),i.onNotification(D.ExitNotification.type,()=>{try{A&&A()}finally{e.shutdownReceived?e.exit(0):e.exit(1)}}),i.onNotification(D.SetTraceNotification.type,_=>{a.trace=D.Trace.fromString(_.value)}),K}J.createConnection=Hf});var fa=C(me=>{"use strict";Object.defineProperty(me,"__esModule",{value:!0});me.resolveModulePath=me.FileSystem=me.resolveGlobalYarnPath=me.resolveGlobalNodePath=me.resolve=me.uriToFilePath=void 0;var $f=require("url"),Ne=require("path"),io=require("fs"),ao=require("child_process");function zf(t){let e=$f.parse(t);if(e.protocol!=="file:"||!e.path)return;let n=e.path.split("/");for(var r=0,i=n.length;r<i;r++)n[r]=decodeURIComponent(n[r]);if(process.platform==="win32"&&n.length>1){let a=n[0],d=n[1];a.length===0&&d.length>1&&d[1]===":"&&n.shift()}return Ne.normalize(n.join("/"))}me.uriToFilePath=zf;function oo(){return process.platform==="win32"}function Qn(t,e,n,r){let i="NODE_PATH",a=["var p = process;","p.on('message',function(m){","if(m.c==='e'){","p.exit(0);","}","else if(m.c==='rs'){","try{","var r=require.resolve(m.a);","p.send({c:'r',s:true,r:r});","}","catch(err){","p.send({c:'r',s:false});","}","}","});"].join("");return new Promise((d,v)=>{let h=process.env,m=Object.create(null);Object.keys(h).forEach(R=>m[R]=h[R]),e&&io.existsSync(e)&&(m[i]?m[i]=e+Ne.delimiter+m[i]:m[i]=e,r&&r(`NODE_PATH value is: ${m[i]}`)),m.ELECTRON_RUN_AS_NODE="1";try{let R=ao.fork("",[],{cwd:n,env:m,execArgv:["-e",a]});if(R.pid===void 0){v(new Error(`Starting process to resolve node module  ${t} failed`));return}R.on("error",q=>{v(q)}),R.on("message",q=>{q.c==="r"&&(R.send({c:"e"}),q.s?d(q.r):v(new Error(`Failed to resolve module: ${t}`)))});let P={c:"rs",a:t};R.send(P)}catch(R){v(R)}})}me.resolve=Qn;function so(t){let e="npm",n=Object.create(null);Object.keys(process.env).forEach(a=>n[a]=process.env[a]),n.NO_UPDATE_NOTIFIER="true";let r={encoding:"utf8",env:n};oo()&&(e="npm.cmd",r.shell=!0);let i=()=>{};try{process.on("SIGPIPE",i);let a=ao.spawnSync(e,["config","get","prefix"],r).stdout;if(!a){t&&t("'npm config get prefix' didn't return a value.");return}let d=a.trim();return t&&t(`'npm config get prefix' value is: ${d}`),d.length>0?oo()?Ne.join(d,"node_modules"):Ne.join(d,"lib","node_modules"):void 0}catch{return}finally{process.removeListener("SIGPIPE",i)}}me.resolveGlobalNodePath=so;function Bf(t){let e="yarn",n={encoding:"utf8"};oo()&&(e="yarn.cmd",n.shell=!0);let r=()=>{};try{process.on("SIGPIPE",r);let i=ao.spawnSync(e,["global","dir","--json"],n),a=i.stdout;if(!a){t&&(t("'yarn global dir' didn't return a value."),i.stderr&&t(i.stderr));return}let d=a.trim().split(/\r?\n/);for(let v of d)try{let h=JSON.parse(v);if(h.type==="log")return Ne.join(h.data,"node_modules")}catch{}return}catch{return}finally{process.removeListener("SIGPIPE",r)}}me.resolveGlobalYarnPath=Bf;var da;(function(t){let e;function n(){return e!==void 0||(process.platform==="win32"?e=!1:e=!io.existsSync(__filename.toUpperCase())||!io.existsSync(__filename.toLowerCase())),e}t.isCaseSensitive=n;function r(i,a){return n()?Ne.normalize(a).indexOf(Ne.normalize(i))===0:Ne.normalize(a).toLowerCase().indexOf(Ne.normalize(i).toLowerCase())===0}t.isParent=r})(da=me.FileSystem||(me.FileSystem={}));function Uf(t,e,n,r){return n?(Ne.isAbsolute(n)||(n=Ne.join(t,n)),Qn(e,n,n,r).then(i=>da.isParent(n,i)?i:Promise.reject(new Error(`Failed to load ${e} from node path location.`))).then(void 0,i=>Qn(e,so(r),t,r))):Qn(e,so(r),t,r)}me.resolveModulePath=Uf});var co=C((Qg,ha)=>{"use strict";ha.exports=Re()});var ga=C(_e=>{"use strict";var Kf=_e&&_e.__createBinding||(Object.create?function(t,e,n,r){r===void 0&&(r=n),Object.defineProperty(t,r,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,r){r===void 0&&(r=n),t[r]=e[n]}),pa=_e&&_e.__exportStar||function(t,e){for(var n in t)n!=="default"&&!Object.prototype.hasOwnProperty.call(e,n)&&Kf(e,t,n)};Object.defineProperty(_e,"__esModule",{value:!0});_e.ProposedFeatures=_e.SemanticTokensBuilder=void 0;var Yf=Gi();Object.defineProperty(_e,"SemanticTokensBuilder",{enumerable:!0,get:function(){return Yf.SemanticTokensBuilder}});pa(Re(),_e);pa(ro(),_e);var Jf;(function(t){t.all={__brand:"features"}})(Jf=_e.ProposedFeatures||(_e.ProposedFeatures={}))});var lo=C(we=>{"use strict";var Gf=we&&we.__createBinding||(Object.create?function(t,e,n,r){r===void 0&&(r=n),Object.defineProperty(t,r,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,r){r===void 0&&(r=n),t[r]=e[n]}),ya=we&&we.__exportStar||function(t,e){for(var n in t)n!=="default"&&!Object.prototype.hasOwnProperty.call(e,n)&&Gf(e,t,n)};Object.defineProperty(we,"__esModule",{value:!0});we.createConnection=we.Files=void 0;var uo=Rn(),Zf=ro(),sn=fa(),mt=co();ya(co(),we);ya(ga(),we);var Qf;(function(t){t.uriToFilePath=sn.uriToFilePath,t.resolveGlobalNodePath=sn.resolveGlobalNodePath,t.resolveGlobalYarnPath=sn.resolveGlobalYarnPath,t.resolve=sn.resolve,t.resolveModulePath=sn.resolveModulePath})(Qf=we.Files||(we.Files={}));var ma;function Xn(){if(ma!==void 0)try{ma.end()}catch{}}var Ft=!1,va;function Xf(){let t="--clientProcessId";function e(n){try{let r=parseInt(n);isNaN(r)||(va=setInterval(()=>{try{process.kill(r,0)}catch{Xn(),process.exit(Ft?0:1)}},3e3))}catch{}}for(let n=2;n<process.argv.length;n++){let r=process.argv[n];if(r===t&&n+1<process.argv.length){e(process.argv[n+1]);return}else{let i=r.split("=");i[0]===t&&e(i[1])}}}Xf();var eh={initialize:t=>{let e=t.processId;uo.number(e)&&va===void 0&&setInterval(()=>{try{process.kill(e,0)}catch{process.exit(Ft?0:1)}},3e3)},get shutdownReceived(){return Ft},set shutdownReceived(t){Ft=t},exit:t=>{Xn(),process.exit(t)}};function th(t,e,n,r){let i,a,d,v;return t!==void 0&&t.__brand==="features"&&(i=t,t=e,e=n,n=r),mt.ConnectionStrategy.is(t)||mt.ConnectionOptions.is(t)?v=t:(a=t,d=e,v=n),nh(a,d,v,i)}we.createConnection=th;function nh(t,e,n,r){if(!t&&!e&&process.argv.length>2){let v,h,m=process.argv.slice(2);for(let R=0;R<m.length;R++){let P=m[R];if(P==="--node-ipc"){t=new mt.IPCMessageReader(process),e=new mt.IPCMessageWriter(process);break}else if(P==="--stdio"){t=process.stdin,e=process.stdout;break}else if(P==="--socket"){v=parseInt(m[R+1]);break}else if(P==="--pipe"){h=m[R+1];break}else{var i=P.split("=");if(i[0]==="--socket"){v=parseInt(i[1]);break}else if(i[0]==="--pipe"){h=i[1];break}}}if(v){let R=mt.createServerSocketTransport(v);t=R[0],e=R[1]}else if(h){let R=mt.createServerPipeTransport(h);t=R[0],e=R[1]}}var a="Use arguments of createConnection or set command line parameters: '--node-ipc', '--stdio' or '--socket={number}'";if(!t)throw new Error("Connection input stream is not set. "+a);if(!e)throw new Error("Connection output stream is not set. "+a);if(uo.func(t.read)&&uo.func(t.on)){let v=t;v.on("end",()=>{Xn(),process.exit(Ft?0:1)}),v.on("close",()=>{Xn(),process.exit(Ft?0:1)})}let d=v=>mt.createProtocolConnection(t,e,v,n);return Zf.createConnection(d,eh,r)}});var Ra=C((tm,ba)=>{"use strict";ba.exports=lo()});var wa=C((_a,er)=>{(function(t){if(typeof er=="object"&&typeof er.exports=="object"){var e=t(require,_a);e!==void 0&&(er.exports=e)}else typeof define=="function"&&define.amd&&define(["require","exports"],t)})(function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TextDocument=void 0;class n{constructor(m,R,P,q){this._uri=m,this._languageId=R,this._version=P,this._content=q,this._lineOffsets=void 0}get uri(){return this._uri}get languageId(){return this._languageId}get version(){return this._version}getText(m){if(m){let R=this.offsetAt(m.start),P=this.offsetAt(m.end);return this._content.substring(R,P)}return this._content}update(m,R){for(let P of m)if(n.isIncremental(P)){let q=d(P.range),k=this.offsetAt(q.start),x=this.offsetAt(q.end);this._content=this._content.substring(0,k)+P.text+this._content.substring(x,this._content.length);let A=Math.max(q.start.line,0),K=Math.max(q.end.line,0),_=this._lineOffsets,b=a(P.text,!1,k);if(K-A===b.length)for(let M=0,$=b.length;M<$;M++)_[M+A+1]=b[M];else b.length<1e4?_.splice(A+1,K-A,...b):this._lineOffsets=_=_.slice(0,A+1).concat(b,_.slice(K+1));let S=P.text.length-(x-k);if(S!==0)for(let M=A+1+b.length,$=_.length;M<$;M++)_[M]=_[M]+S}else if(n.isFull(P))this._content=P.text,this._lineOffsets=void 0;else throw new Error("Unknown change event received");this._version=R}getLineOffsets(){return this._lineOffsets===void 0&&(this._lineOffsets=a(this._content,!0)),this._lineOffsets}positionAt(m){m=Math.max(Math.min(m,this._content.length),0);let R=this.getLineOffsets(),P=0,q=R.length;if(q===0)return{line:0,character:m};for(;P<q;){let x=Math.floor((P+q)/2);R[x]>m?q=x:P=x+1}let k=P-1;return{line:k,character:m-R[k]}}offsetAt(m){let R=this.getLineOffsets();if(m.line>=R.length)return this._content.length;if(m.line<0)return 0;let P=R[m.line],q=m.line+1<R.length?R[m.line+1]:this._content.length;return Math.max(Math.min(P+m.character,q),P)}get lineCount(){return this.getLineOffsets().length}static isIncremental(m){let R=m;return R!=null&&typeof R.text=="string"&&R.range!==void 0&&(R.rangeLength===void 0||typeof R.rangeLength=="number")}static isFull(m){let R=m;return R!=null&&typeof R.text=="string"&&R.range===void 0&&R.rangeLength===void 0}}var r;(function(h){function m(q,k,x,A){return new n(q,k,x,A)}h.create=m;function R(q,k,x){if(q instanceof n)return q.update(k,x),q;throw new Error("TextDocument.update: document must be created by TextDocument.create")}h.update=R;function P(q,k){let x=q.getText(),A=i(k.map(v),(b,S)=>{let M=b.range.start.line-S.range.start.line;return M===0?b.range.start.character-S.range.start.character:M}),K=0,_=[];for(let b of A){let S=q.offsetAt(b.range.start);if(S<K)throw new Error("Overlapping edit");S>K&&_.push(x.substring(K,S)),b.newText.length&&_.push(b.newText),K=q.offsetAt(b.range.end)}return _.push(x.substr(K)),_.join("")}h.applyEdits=P})(r=e.TextDocument||(e.TextDocument={}));function i(h,m){if(h.length<=1)return h;let R=h.length/2|0,P=h.slice(0,R),q=h.slice(R);i(P,m),i(q,m);let k=0,x=0,A=0;for(;k<P.length&&x<q.length;)m(P[k],q[x])<=0?h[A++]=P[k++]:h[A++]=q[x++];for(;k<P.length;)h[A++]=P[k++];for(;x<q.length;)h[A++]=q[x++];return h}function a(h,m,R=0){let P=m?[R]:[];for(let q=0;q<h.length;q++){let k=h.charCodeAt(q);(k===13||k===10)&&(k===13&&q+1<h.length&&h.charCodeAt(q+1)===10&&q++,P.push(R+q+1))}return P}function d(h){let m=h.start,R=h.end;return m.line>R.line||m.line===R.line&&m.character>R.character?{start:R,end:m}:h}function v(h){let m=d(h.range);return m!==h.range?{newText:h.newText,range:m}:h}})});var yt=C((nm,qa)=>{var fo=class{constructor(e,n,r,i,a){this.label=e,this.kind=n,this.data=r,this.detail=i,this.documentation=a}},ho=class{constructor(e,n,r="",i="",a={}){this.inner=new fo(e,n,0,r,i),this.properties=[],this.inherited=null,this.evaluated=!1,this.deps=[],this.propertydeps={},this.ignore=!1,this.isStatic=!1,this.returndeps=[],this.params=a,this.returns=null}};qa.exports=ho});var he=C((rm,Ca)=>{var nr=Ra(),et=lo(),Pa=wa(),rh=yt(),ih=(0,nr.createConnection)(nr.ProposedFeatures.all),oh=new nr.TextDocuments(Pa.TextDocument),sh=new Map,ah={configuration:!1,workspaceFolder:!1,diagnostics:!1},ch=[et.SemanticTokenTypes.class,et.SemanticTokenTypes.function,et.SemanticTokenTypes.parameter],uh=[et.CompletionItemKind.Class,et.CompletionItemKind.Function,et.CompletionItemKind.Field],lh={},dh={},fh=["if","elseif","else","while","for","dig","d","tool","t","plant","p","uproot","harvest","h","cancel","continue","end","new","null","class","public","private","protected","static","try","catch","throw","import","all"],hh=50,Ta=!0,ph=t=>new rh(t,et.CompletionItemKind.Variable,"[object]",`The default object from which all Radish ${t.toLowerCase()}s extend.`),tr=[];for(let t of["Object","Array","Boolean","Function","Number","String"]){let e=ph(t);tr.length>0&&(e.inherited=tr[0]),tr.push(e),Ta||(e.evaluated=!0)}Ca.exports={languageserver:nr,textdocument:Pa,connection:ih,documents:oh,documentSettings:sh,capabilities:ah,cached:lh,server2:et,tokenTypes:ch,tokenKey:uh,autoCompleteDefaults:fh,assessTime:hh,importCache:dh,baseScope:tr,uselib:Ta}});var po=C((im,Sa)=>{Sa.exports=(t,e)=>!(t.line+1<e.startline||t.line+1>e.endline||t.line+1==e.startline&&t.character<e.startchar||t.line+1==e.endline&&t.character>e.endchar)});var Da=C((om,ka)=>{var{baseScope:gh}=he(),mh=po(),go=(t,e,n=!0,r=null)=>{let i=[],a=[];for(let d of t.innerscopes){if(!mh(e,d))continue;if(!n)return go(d,e,!1,r);let v=go(d,e,n,r);for(let h of v)i.push(h),a.push(h.inner.label);break}if(n)for(let d of t.vars.concat(r===null?gh:r))!d.ignore&&!a.includes(d.inner.label)&&i.push(d);return n?i:t};ka.exports=go});var an=C((sm,Oa)=>{var Ea=(t,e,n)=>{for(let r of e)if(r.inner.label==t)return r;return n!==null?Ea(t,n.properties,n.inherited):null};Oa.exports=Ea});var rr=C((am,xa)=>{var Na=Da(),yh=an(),jt=(t,e)=>{for(let n of t)if(n.inner.label==e)return n;throw`Unable to find ${e}!`};xa.exports=(t,e,n,r,i,a)=>{let v=Na(e,n,!0,t),h=null,m=null;for(let R=r.length-1;R>0;R--){if(r[R]==""){v=[],h=null,m=null;break}if(R==r.length-1){if(r[R]=="}"){if(v=Na(e,i,!1,t),!(v.endline-1==i.line&&v.endchar==i.character)){v=[],h=null,m=null;break}v.returns===null?(v=v.vars,h=jt(t,"Object"),m=null):(m=v.returns,v=[],h=jt(t,"Function"));continue}let q=!0;if(r[R]=='"')h=jt(t,"String");else if(r[R]=="yes"||r[R]=="no")h=jt(t,"Boolean");else if(r[R].length>0&&["0","1","2","3","4","5","6","7","8","9"].includes(r[R][0]))h=jt(t,"Number");else if(r[R]=="]"){let k=!1;for(let x of a)x.line==i.line&&x.character==i.character&&(k=!0);h=k?jt(t,"Array"):null}else q=!1;if(q){v=[],m=null;continue}}let P=r[R]=="()"?m:yh(r[R],v,h);if(P===null){v=[],h=null,m=null;break}v=P.properties,h=P.inherited,m=P.returns}return{properties:v,inherited:h,returns:m}}});var ir=C((cm,Fa)=>{var vh=po(),mo="abcdefghijklmnopqrstuvwxyz",vt=[];for(let t=0;t<mo.length;t++)vt.push(mo[t]),vt.push(mo[t].toUpperCase());var Ma="0123456789";for(let t=0;t<Ma.length;t++)vt.push(Ma[t]);vt.push("_");var bh=["}","]",'"'],Rh=[" ",`
`,"\r","\xA0","	"];Fa.exports=(t,e,n,r=!1)=>{if(t._lineOffsets===void 0||t._content===void 0)return null;for(let P of e)if(vh(n,P,1))return null;let i={line:n.line,character:n.character},a=t._lineOffsets[n.line]+n.character-1;if(r&&!vt.includes(t._content[a]))return null;let d=[],v="",h=a;for(;h<t._content.length&&(h++,!!vt.includes(t._content[h]));)v+=t._content[h];let m=!1,R=0;for(;a>=0;){if(R>0)t._content[a]==")"?R++:t._content[a]=="("&&(R--,R==0&&d.push("()"));else if(t._content[a]=="."||t._content[a]==":")d.push(v),v="",m=!1;else if(t._content[a]==")"&&v=="")R=1;else{let P=t._content[a];if(Rh.includes(P))v!=""&&(m=!0);else{if(m)break;if(vt.includes(P))v=P+v;else{bh.includes(P)&&v==""&&(v=P);break}}}a--,i.character--,i.character==-1&&(i.line--,i.character=t._lineOffsets[i.line+1]-t._lineOffsets[i.line]-1)}return d.push(v),[d,i]}});var Lt=C((um,ja)=>{var yo=class{constructor(e,n,r){this._execute=e,this.name=n,this.default=r}async execute(e){try{return await this._execute(e)}catch{return console.log(`Response ${this.name} failed!`),this.default}}};ja.exports=yo});var or=C((lm,Ia)=>{var La=(t,e,n=r=>r)=>{let r=[],i=[];for(let a of t)a.ignore||(r.push(n(a)),i.push(a.inner.label));if(e!==null){let a=La(e.properties,e.inherited);for(let d of a)i.includes(d.inner.label)||r.push(n(d))}return r};Ia.exports=La});var Ha=C((fm,Va)=>{var{languageserver:dm,cached:_h,autoCompleteDefaults:wh,server2:Wa}=he(),qh=rr(),Ph=ir(),Th=Lt(),Ch=or(),Aa=[];for(let t of wh)Aa.push({label:t,kind:Wa.CompletionItemKind.Value,data:-1,detail:`[operator: ${t}]`,documentation:{kind:Wa.MarkupKind.Markdown,value:"A built-in `Radish` operator. See https://radishpl.com for implementations."}});var Sh=new Th(t=>{let e=_h[t.textDocument.uri];if(e===void 0)return[];let n=e.cs;if(n===null)return[];let r=Ph(e.ref,e.noHoverZones,t.position);if(r===null)return[];let i=qh(e.bs,n,t.position,r[0],r[1],e.arrayEnds),a=Ch(i.properties,i.inherited,d=>d.inner);return r[0].length==1&&(a=Aa.concat(a)),a},"completion",[]);Va.exports=Sh});var za=C((hm,$a)=>{var vo=class extends Error{constructor(e,n,r){super(e),this.row=n,this.col=r}};$a.exports=vo});var sr=C((gm,Ba)=>{var pm=za(),bo=class{constructor(e,n=1,r=1){this.row=n,this.col=r,this.index=0,this.file=e}get EndOfStream(){return this.index>=this.file._content.length}Peek(){return this.file._content[this.index]}Read(){let e=this.Peek();return e=="\r"?(this.index++,this.Read()):(e==`
`?(this.row++,this.col=1):this.col++,this.index++,e)}};Ba.exports=bo});var Ro=C((mm,Ua)=>{var kh={SAME:0,NONE:1,COMMENT:2,STRING:3,NUMBER:4,OPERATOR:5,BOOLEAN:6,SYMBOL:7,KEYWORD:8,ENDOFFILE:9,SEMIS:10};Ua.exports=kh});var Ya=C((ym,Ka)=>{var _o=class{constructor(e,n){this.Type=e,this.Val=n}};Ka.exports=_o});var ec=C((vm,Xa)=>{var z=Ro(),ar=Ya(),Dh=he(),X={letter:0,digit:1,dot:2,quotes:3,hashtags:4,whitespace:5,operators:6,symbols:7,semis:8},de={},Ga=".",Za="#",Qa=";",cr={},Eh=()=>{cr.n=`
`,cr.t="	";let t="0123456789",e="abcdefghijklmnopqrstuvwxyz";for(let i=0;i<e.length;i++)de[e[i]]=X.letter,de[e[i].toUpperCase()]=X.letter;de._=X.letter;for(let i=0;i<t.length;i++)de[t[i]]=X.digit;let n="+-/*<>|&!=%\\^~";for(let i=0;i<n.length;i++)de[n[i]]=X.operators;let r="(){}[],:";for(let i=0;i<r.length;i++)de[r[i]]=X.symbols;de[Ga]=X.dot,de[" "]=X.whitespace,de[`
`]=X.whitespace,de["\r"]=X.whitespace,de["\xA0"]=X.whitespace,de["	"]=X.whitespace,de['"']=X.quotes,de["'"]=X.quotes,de[Za]=X.hashtags,de[Qa]=X.semis};Eh();var Oh=t=>de[t]===void 0?X.letter:de[t],Nh=(t,e,n)=>{if(t==z.COMMENT&&(n.length==1||n[n.length-1]!=Za)||t==z.SEMIS&&(n.length==1||n[n.length-1]!=Qa)||t==z.STRING&&(n.length==1||n[n.length-1]!='"'&&n[n.length-1]!="'"))return z.SAME;switch(e){case X.quotes:return z.STRING;case X.hashtags:return z.COMMENT;case X.semis:return z.SEMIS;case X.whitespace:return z.NONE;case X.letter:return t==z.KEYWORD?z.SAME:z.KEYWORD;case X.digit:return t==z.NUMBER||t==z.KEYWORD?z.SAME:z.NUMBER;case X.dot:return t==z.NUMBER&&n.indexOf(Ga)==-1?z.SAME:z.SYMBOL;case X.symbols:return z.SYMBOL;case X.operators:return t==z.OPERATOR?z.SAME:z.OPERATOR}},xh=(t,e)=>{if(t==z.KEYWORD){let n=z.KEYWORD;return(e=="yes"||e=="no")&&(n=z.BOOLEAN),Dh.autoCompleteDefaults.includes(e)&&(n=z.OPERATOR),new ar(n,e)}return new ar(t,e)},Ja=(t,e,n,r,i)=>{let a=n.line,d=n.character;return n.line=r.row,n.character=r.col,a&&d&&(t==z.COMMENT||t==z.SEMIS)&&i.noHoverZones.push({startline:a,startchar:d+1,endline:n.line,endchar:n.character-1}),[z.SEMIS,z.NONE,z.COMMENT].includes(t)?(t==z.SEMIS&&(i.currentDocs=e),i.lastTrim={line:n.line-1,character:n.character-1},!1):xh(t,e)},Mh=(t,e)=>{if(e.currentDocs=null,t.EndOfStream)return e.lastTrim={line:t.row-1,character:t.col-1},new ar(z.ENDOFFILE,"");let n="",r=z.NONE,i={},a=!1;do{let v=t.Peek();if(v=="\\"&&r==z.STRING){t.Read();let h=t.Peek();t.Read(),cr[h]!==void 0?n+=cr[h]:n+=h,a=!0}else{let h=Nh(r,Oh(v),n);if(a||h==z.SAME)a=!1,t.Read(),n+=v;else{let m=Ja(r,n,i,t,e);if(m)return m;t.Read(),r=h,n=v}}}while(!t.EndOfStream);let d=Ja(r,n,i,t,e);return d||new ar(z.ENDOFFILE,"")};Xa.exports=Mh});var qo=C((bm,nc)=>{var tc=he(),wo=class{constructor(e,n,r=null,i=!1){this.startline=e,this.startchar=n,this.endline=this.startline,this.endchar=this.startchar,this.vars=[],this.innerscopes=[],this.enclosing=r,this.isthis=i,this.returns=null,this.unused=null}end(e,n,r){this.endline=e,this.endchar=n,this.unused!==null&&!(this.unused.line==this.endline-1&&this.unused.character==this.endchar-1)&&r.diagnostics.push({severity:tc.server2.DiagnosticSeverity.Hint,range:{start:this.unused,end:{line:this.endline-1,character:this.endchar-1}},message:"This code is after a breaking statement and will not run.",source:"Radish Language Server",tags:[tc.server2.DiagnosticTag.Unnecessary]})}append(e){this.innerscopes.push(e)}addVar(e=null){e!==null&&this.vars.push(e)}markUnused(e){this.unused===null&&(this.unused=e)}};nc.exports=wo});var ic=C((Rm,rc)=>{var It={docs:0,paramName:1,paramDocs:2};rc.exports=t=>{let e=t.substring(1,t.length-1),n="",r={},i="",a="",d=It.docs,v=(h,m)=>e[m]==`
`||e[m]=="\r"?`
`:e[m]=="@"?(d=h,""):e[m];for(let h=0;h<e.length;h++)d==It.docs?n+=v(It.paramName,h):d==It.paramName?a+=v(It.paramDocs,h):e[h]==`
`||e[h]=="\r"?i+=`
`:e[h]=="@"?(d=It.docs,r[a]=i,a="",i=""):i+=e[h];return[n.trim(),r]}});var Po=C((_m,oc)=>{var ur=class{constructor(e,n="",r=[],i=null,a=null,d=null,v=null){this.type=e,this.raw=r,this.baseScope=i,this.inherited=a,this.linkedscope=d,this.detail=n,this.imported=v}};Wo(ur,"Reference",525);oc.exports=ur});var To=C((wm,ac)=>{var Fh=(t,e,n,r=!1)=>sc.dep(t,e,e.reference,n.raw,n.baseScope,n.inherited,n.linkedscope,n.imported,n.detail,r),sc={run:Fh,dep:null};ac.exports=sc});var lr=C((qm,cc)=>{cc.exports=(t,e,n=null,r="",i=!1)=>t===null?(n!==null&&!i&&(r=="()"?n.returndeps.push(e):(n.propertydeps[":"+r]===void 0&&(n.propertydeps[":"+r]=[]),n.propertydeps[":"+r].push(e))),!1):!t.evaluated&&!i?(e!==null&&t.deps.push(e),!1):!0});var Co=C((Pm,lc)=>{var{baseScope:jh}=he(),uc=(t,e,n=null)=>{for(let r of e.vars)if(r.inner.label==t)return r;if(e.enclosing!==null)return uc(t,e.enclosing,n);for(let r of n===null?jh:n)if(r.inner.label==t)return r;return null};lc.exports=uc});var ln=C((Tm,fc)=>{var So=To().run,Lh=an(),ko=lr(),Ih=yt(),dc=Co(),Wh=he(),cn=Wh.server2.CompletionItemKind,Ah=Po(),un=(t,e)=>{if(t.handled)return;let n=So(e,t,t.target,!0);if(n===null)return;let r=n[n.length-1];if(r.evaluated||r.lock&&!t.override)return;let i=So(e,t,t.find);if(i===null||!ko(i[i.length-1],t))return;if(i=i[i.length-1],t.find.type==cn.Class){let d=null;for(let m=0;m<i.properties.length;m++)if(i.properties[m].inner.label=="constructor"){if(d=i.properties[m],d===null||!ko(d,t))return;i.properties.splice(m,1);break}let v=i;i=d;let h=Lh("prototype",i.properties,i.inherited);h===null&&(h=new Ih("prototype",cn.Variable),h.inner.detail="[object]",h.evaluated=!0,i.properties.push(h),dr.dep(e,i,h));for(let m of v.properties)m.isStatic?(i.properties.push(m),dr.dep(e,i,m)):(h.properties.push(m),dr.dep(e,h,m));h.inherited=v.inherited===null?e.protos.Object:v.inherited}if(t.find.linkedscope!==null){if(n.length>1){let d=dc("this",t.find.linkedscope);if(d!==null){d.inner.detail="[object]",d.properties=n[n.length-2].properties,d.inherited=n[n.length-2].inherited,d.evaluated=!0,d.ignore=!1;for(let v of d.deps)un(v,e)}}if(r.addsuper){let d=So(e,t,r.addsuper);if(d===null||(d=d[d.length-1],!ko(d,t)))return;let v=dc("super",t.find.linkedscope);if(v!==null){v.inner.detail=d.inner.detail,v.properties=d.properties,v.inherited=d.inherited,v.inner.kind=cn.Function,v.evaluated=!0,v.ignore=!1,v.params=d.params,v.returns=d.returns;for(let h of v.deps)un(h,e)}}}r.inherited=i.inherited,r.properties=i.properties,i.inner.detail.length==0?r.inner.detail.length==0&&(r.inner.detail="[variable]"):r.inner.detail=i.inner.detail;let a=t.find.type==Ah.Reference?i.inner.kind:t.find.type;if(a!=cn.Variable&&a!=cn.Field&&(r.inner.kind=a),i.returns!==null){r.returns=i.returns;for(let d of r.returndeps)un(d,e)}r==e.protos.Object&&(r.inherited=null),r.ignore=!1,r.evaluated=!0,t.handled=!0;for(let d of r.deps)un(d,e)},dr={run:un,dep:null};fc.exports=dr});var pc=C((Cm,hc)=>{var Vh=yt(),fr=(t,e=new Map)=>{let n=e.get(t);if(n!==void 0)return n;let r=new Vh(t.inner.label,t.inner.kind,t.inner.detail,t.inner.documentation);e.set(t,r);for(let i of t.properties)r.properties.push(fr(i,e));t.inherited!==null&&(r.inherited=fr(t.inherited,e)),r.evaluated=!0,r.isStatic=t.isStatic;for(let i of Object.keys(t.params))r.params[i]=t.params[i];return t.returns!==null&&(r.returns=fr(t.returns,e)),r},Hh=t=>{let e=new Map,n=[];for(let r of t)n.push(fr(r,e));return n};hc.exports=Hh});var Eo=C((Sm,gc)=>{var $h=ec(),dn=qo(),xe=yt(),zh=require("url"),Ie=he(),B=Ie.server2.CompletionItemKind,Y=Ro(),Do=ic(),L=Po(),Bh=require("fs"),Uh=sr(),Kh=ln().run,Yh=pc(),ze=class{constructor(e,n,r,i=!1){this.target=e,this.reference=n,this.find=r,this.handled=!1,this.override=i}},bt=class{constructor(e,n,r,i,a,d,v=null,h=[],m=null,R=null){this.detail=e,this.lines=n,this.chars=r,this.path=i,this.reference=a,this.baseScope=d,this.before=h,this.isDeclarationIfSoWhatsThis=v,this.imported=m,this.linkedscope=R}},fn=class{constructor(e,n=!1){this.reader=e,this.Stored=null,this.PrevRow=-1,this.PrevCol=-1,this.cs=null,this.dependencies=[],this.currentthis=null,this.currentDocs=null,this.currentFun=null,this.tokendependencies=[],this.noHoverZones=[],this.diagnostics=[],this.lastTrim={line:0,character:0},this.path=e.file.uri.slice(0,e.file.uri.lastIndexOf("/")),this.bs=n?Ie.baseScope:Yh(Ie.baseScope),this.protos={};for(let r of this.bs)["Object","String","Function","Boolean","Number","Array"].includes(r.inner.label)&&(this.protos[r.inner.label]=r);this.arrayEnds=[]}CleanUp(){this.reader=null,this.cs=null,this.dependencies=[],this.currentthis=null,this.tokendependencies=[],this.noHoverZones=[],this.diagnostics=[],this.bs=[],this.protos={},this.arrayEnds=[]}AddDiagnostic(e,n=this.lastTrim,r={line:this.Row-1,character:this.Col-1}){this.diagnostics.push({severity:Ie.server2.DiagnosticSeverity.Error,range:{start:n,end:r},message:e,source:"Radish Language Server",tags:[]})}RequireSymbol(e){let n=this.Read();n.Type==Y.SYMBOL&&n.Val==e||(this.AddDiagnostic(`Error: expected symbol: ${e}`),this.Stored=n)}get Row(){return this.Stored==null?this.reader.row:this.PrevRow}get Col(){return this.Stored==null?this.reader.col:this.PrevCol}Read(){if(this.Stored!=null){let e=this.Stored;return this.Stored=null,e}return this.PrevCol=this.reader.col,this.PrevRow=this.reader.row,$h(this.reader,this)}ParseScope(e=null,n=!1,r=!1){let i=this.cs,a=e===null?new dn(this.Row,this.Col,this.cs):e;if(this.cs=a,i===null){let v=new xe("(anonymous file harvest)",B.Variable,"[variable]");this.cs.returns=v}n&&(this.currentthis.properties=a.vars),r&&(this.currentFun=a);let d=this.Read();for(;d.Type!=Y.ENDOFFILE&&!(d.Type==Y.SYMBOL&&d.Val=="}");){if(d.Type==Y.OPERATOR&&d.Val=="if")this.Stored=d,this.ParseIfs();else if(d.Type==Y.OPERATOR&&d.Val=="while")this.RequireSymbol("("),this.ParseExpression(),this.RequireSymbol(")"),this.RequireSymbol("{"),this.ParseScope(),this.RequireSymbol("}");else if(d.Type==Y.OPERATOR&&d.Val=="for")this.RequireSymbol("("),this.ScopeWith(()=>{this.ParseLi(),this.RequireSymbol(")"),this.RequireSymbol("{"),this.ParseScope(),this.RequireSymbol("}")});else if(d.Type==Y.OPERATOR&&(d.Val=="cancel"||d.Val=="continue"||d.Val=="end")){let v=this.Read();this.cs.markUnused(this.lastTrim),this.Stored=v}else if(d.Type==Y.OPERATOR&&(d.Val=="harvest"||d.Val=="h")){let v=this.currentDocs,h=this.ParseExpression(),m=this.currentFun;if(m===null){let q=this.cs;for(;q.enclosing!==null;)q=q.enclosing;m=q}if(m.returns&&v!==null){let q=Do(v);m.returns.inner.documentation=q[0],m.returns.params=q[1]}let R=new L(L.Reference,"",["()"],null,null,m);this.dependencies.push(new ze(R,this.cs,h));let P=this.Read();this.cs.markUnused(this.lastTrim),this.Stored=P}else if(d.Type==Y.OPERATOR&&d.Val=="try"){this.RequireSymbol("{"),this.ParseScope(),this.RequireSymbol("}");let v=this.Read();v.Type==Y.OPERATOR&&v.Val=="catch"?(this.RequireSymbol("{"),this.ParseScope(),this.RequireSymbol("}")):(this.AddDiagnostic("Expecting catch phrase after try {}"),this.Stored=v)}else this.Stored=d,this.ParseExpression();d=this.Read()}return a.end(this.Row,this.Col-d.Val.length,this),this.Stored=d,i!==null&&(i.append(a),this.cs=i),a}ScopeWith(e){let n=this.cs,r=new dn(this.Row,this.Col,this.cs);return this.cs=r,e(),r.end(this.Row,this.Col,this),n.append(r),this.cs=n,r}ParseIfs(){let e=this.Read();e.Type==Y.OPERATOR&&e.Val=="if"||(this.AddDiagnostic("Expecting if statement!"),this.Stored=e),this.ParseIf();let n=this.Read();for(;n.Type==Y.OPERATOR&&n.Val=="elseif";)this.ParseIf(),n=this.Read();n.Type==Y.OPERATOR&&n.Val=="else"?(this.RequireSymbol("{"),this.ParseScope(),this.RequireSymbol("}")):this.Stored=n}ParseIf(){this.RequireSymbol("("),this.ParseExpression(),this.RequireSymbol(")"),this.RequireSymbol("{"),this.ParseScope(),this.RequireSymbol("}")}ParseLi(e=!1){let n=[],r=[],i=[],a=[],d=this.Read();if(d.Type==Y.SYMBOL&&(d.Val=="]"||d.Val==")"))return this.Stored=d,{vars:[],strings:[],tokens:[],deps:[]};for(;;){if(this.Stored=d,e){let h=this.currentDocs,m=this.Read();if(m.Type!=Y.KEYWORD)this.AddDiagnostic("Expecting a function parameter!");else{let R=new xe(m.Val,B.Field),P=new bt("",[this.Row],[this.Col-m.Val.length],[m.Val],null,null,!1);this.tokendependencies.push(P),i.push(P);let q=this.Read(),k=!1;if(q.Val=="plant"||q.Val=="p"){let x=new ze(new L(L.Reference,"",[m.Val]),null,this.ParseExpression());this.dependencies.push(x),a.push(x),k=!0}else this.Stored=q;if(R.inner.detail=k?"[optional variable]":"[variable]",h!==null&&h.length>2){let x=Do(h);R.inner.documentation=x[0],R.params=x[1]}n.push(R),r.push(k?m.Val+"?":m.Val)}}else this.ParseExpression();let v=this.Read();if(!(v.Type==Y.SYMBOL&&v.Val==",")){this.Stored=v;break}d=this.Read()}return{vars:n,strings:r,tokens:i,deps:a}}Parse(e,n){let r=this[e](),i=null,a=!1;for(;!a;)if(i=this.Read(),a=!0,i.Type==Y.OPERATOR){let d=this[n](i.Val,r,e);d!=null&&(r=d,a=!1)}return this.Stored=i,r}IsExpression(e,n,r){if(e[e.length-1]=="="){let i=e.slice(0,e.length-1),a=["IsCombiners","IsComparators","IsTerms","IsFactors"];for(let d of a){let v=this[d](i,n,r);if(v!==null)return v}}else if(e=="plant"||e=="p"){let i=this[r]();return this.dependencies.push(new ze(n,this.cs,i)),n}return null}ParseExpression(){return this.Parse("ParseCombiners","IsExpression")}IsCombiners(e,n,r){return e=="||"||e=="&&"?(this[r](),new L(B.Variable,"[boolean]")):["&","|","^"].includes(e)?(this[r](),new L(B.Variable,"[number]")):null}ParseCombiners(){return this.Parse("ParseComparators","IsCombiners")}IsComparators(e,n,r){return["==",">=","<=",">","<","!="].includes(e)?(this[r](),new L(B.Variable,"[boolean]")):null}ParseComparators(){return this.Parse("ParseShifts","IsComparators")}IsShifts(e,n,r){return e=="<<"||e==">>"?(this[r](),new L(B.Variable,"[number]")):null}ParseShifts(){return this.Parse("ParseTerms","IsShifts")}IsTerms(e,n,r){return e=="+"||e=="-"?(this[r](),this.Convert(n)):null}ParseTerms(){return this.Parse("ParseFactors","IsTerms")}IsFactors(e,n,r){return["*","/","%"].includes(e)?(this[r](),this.Convert(n)):null}ParseFactors(){return this.Parse("ParseExponents","IsFactors")}IsExponent(e,n,r){return e=="**"?(this[r](),this.Convert(n)):null}ParseExponents(){return this.Parse("ParseNegatives","IsExponent")}Convert(e){return(e.detail.startsWith("[string : ")||e.detail.startsWith("[number : "))&&(e.detail=e.detail.slice(0,7)+"]"),e}ParseNegatives(){let e=this.Read();if(e.Type==Y.OPERATOR){if(e.Val=="-"||e.Val=="~")return this.ParseNegatives(),new L(B.Variable,"[number]");if(e.Val=="!")return this.ParseNegatives(),new L(B.Variable,"[boolean]")}return this.Stored=e,this.ParsePosts()}ParsePosts(){let e=this.ParseCalls(),n=null,r=!1;for(;!r;)n=this.Read(),n.Type==Y.OPERATOR&&(n.Val=="++"||n.Val=="--")||(r=!0);return this.Stored=n,e}ParseCalls(e=!0){let n=!1,r=!0,i=this.ParseLowest(),a=[],d=[],v=[],h=null,m=!1;for(;!m;)if(h=this.Read(),h.Type==Y.SYMBOL){let R=!1;for(;!R;)h.Type==Y.SYMBOL?h.Val=="("&&e?(r=!1,this.ParseLi(),this.RequireSymbol(")"),n||(a.push("()"),d.push(-1),v.push(-1)),h=this.Read()):h.Val=="["?(this.ParseExpression(),this.RequireSymbol("]"),n=!0,h=this.Read()):R=!0:R=!0;if(h.Val=="."||h.Val==":"){r=!1;let P=this.Read().Val;n||(a.push(P),d.push(this.Row),v.push(this.Col-P.length))}else m=!0}else m=!0;return this.Stored=h,a.length>0&&this.tokendependencies.push(new bt(i.detail,d,v,a,this.cs,i.baseScope,null,i.raw,i.imported,i.linkedscope)),n?new L(B.Variable):r?i:new L(L.Reference,i.detail,i.raw.concat(a),i.baseScope,i.inherited,i.linkedscope,i.imported)}ParseLowest(){let e=this.Read();if(e.Type==Y.OPERATOR){if(e.Val=="dig"||e.Val=="d"){let n=this.currentDocs,r=this.Read(),i=!1,a=!1,d=!1;for(;r.Type==Y.OPERATOR&&(r.Val=="public"||r.Val=="private"||r.Val=="protected"||r.Val=="static");)r.Val=="static"&&(d=!0),r=this.Read();if(r.Type==Y.KEYWORD&&r.Val!="this"&&r.Val!="super"&&r.Val!="prototype"){for(let h of this.cs.vars)h.inner.label==r.Val&&(this.AddDiagnostic(`Cannot declare variable '${r.Val}' more than once in the same scope!`),i=!0);this.tokendependencies.push(new bt("",[this.Row],[this.Col-r.Val.length],[r.Val],this.cs,null,this.currentthis!==null));let v=this.Read();if(v.Type==Y.SYMBOL&&v.Val=="{"){a=!0;for(let h=0;h<2;h++){let m=this.Read();if(m.Type==Y.SYMBOL&&m.Val=="}"){this.Stored=m;break}if(m.Type!=Y.OPERATOR)this.AddDiagnostic(`Expecting plant or harvest function instead of ${m.Val}!`);else if(this.RequireSymbol("{"),m.Val=="plant"||m.Val=="p"||m.Val=="harvest"||m.Val=="h"){let R=new dn(this.Row,this.Col,this.cs);if(m.Val=="plant"||m.Val=="p")R.addVar(new xe("input",B.Variable,"[variable]"));else{let x=new xe("(anonymous harvested value)",B.Variable,"[any]");R.returns=x,this.dependencies.push(new ze(new L(B.Variable,"",[r.Val]),this.cs,new L(L.Reference,"",["()"],null,null,R),!0))}let P=new xe("this",B.Variable,"[variable]"),q=new xe("super",B.Variable,"[variable]");q.ignore=!0,P.ignore=!0,R.vars.push(P),R.vars.push(q),this.currentthis!==null&&this.dependencies.push(new ze(new L(L.Reference,"",["this"]),R,new L(B.Variable,"[object]",[],this.currentthis.properties,this.currentthis.inherited)));let k=this.currentFun;this.ParseScope(R,!1,!0),this.currentFun=k,this.RequireSymbol("}")}else this.AddDiagnostic("Only plant and harvest functions are valid in this context!")}this.RequireSymbol("}")}else this.Stored=v;if(!i){let h=new xe(r.Val,B.Variable,"[variable]");if(n!==null&&n.length>2){let m=Do(n);h.inner.documentation=m[0],h.params=m[1]}a&&(h.lock=!0),h.isStatic=d,this.cs.addVar(h)}return new L(B.Variable,"",[r.Val])}return this.AddDiagnostic(`Expecting a variable name instead of ${r.Val}! (note that 'this', 'super', and 'prototype' are reserved names and cannot be reused)`),this.Stored=r,new L(B.Variable)}if(e.Val=="uproot"){let n=this.Read();return this.tokendependencies.push(new bt("",[this.Row],[this.Col-n.Val.length],[n.Val],this.cs,null,null)),new L(B.Variable,"",[n.Val])}if(e.Val=="tool"||e.Val=="t"){let n=this.Row,r=this.Col;this.RequireSymbol("(");let i=this.ParseLi(!0);this.RequireSymbol(")"),this.RequireSymbol("{");let a=new dn(this.Row,this.Col,this.cs);a.startchar=r,a.startline=n;let d="[tool] { ";for(let P=0;P<i.strings.length;P++)d+=i.strings[P],P<i.strings.length-1&&(d+=", ");d+=" }";for(let P of i.tokens)P.reference=a;for(let P of i.deps)P.reference=a;a.vars=a.vars.concat(i.vars);let v=new xe("this",B.Variable,"[variable]"),h=new xe("super",B.Variable,"[variable]");h.ignore=!0,v.ignore=!0,a.vars.push(v),a.vars.push(h),this.currentthis!==null&&this.dependencies.push(new ze(new L(L.Reference,"",["this"]),a,new L(B.Variable,"[object]",[],this.currentthis.properties,this.currentthis.inherited)));let m=new xe("(anonymous harvested value)",B.Variable,"[any]");a.returns=m;let R=this.currentFun;return this.ParseScope(a,!1,!0),this.currentFun=R,this.RequireSymbol("}"),new L(B.Function,d,[],null,null,a)}if(e.Val=="null")return new L(B.Variable,"[null]");if(e.Val=="all")return new L(B.Variable,"[object]",[],this.cs.vars);if(e.Val=="throw")return this.ParseExpression(),new L(B.Variable,"[error]");if(e.Val=="import"){let n=this.ParseExpression();if(n.detail.startsWith("[string :")){let r=n.detail.slice(10,n.detail.length-1),i=r.lastIndexOf("/");i!=-1&&(r=r.slice(0,i)+r.slice(i).toLowerCase());let a=this.path;for(;r.startsWith("../");)r=r.slice(3),a=a.slice(0,a.lastIndexOf("/"));a+="/",a+=r,r.endsWith(".rdsh")||(a+=".rdsh");let d=Ie.cached[a]===void 0?void 0:Ie.cached[a].cs;if(d!=null&&(d=d.returns),d===void 0&&(d=Ie.importCache[a]),d===void 0&&a.startsWith("file://")){let v;try{v=Bh.readFileSync(zh.fileURLToPath(a),{encoding:"utf-8"})}catch{v=null}if(v!==null){let h=new fn(new Uh({_content:v,uri:a}),this.bs==Ie.baseScope);h.ParseScope();for(let m of h.dependencies)Kh(m,h);Ie.importCache[a]=h.cs.returns,d=h.cs.returns,Ie.connection.sendDiagnostics({uri:a,diagnostics:h.diagnostics}),h.CleanUp()}}if(d!==void 0)return new L(L.Reference,"[import]",[],null,null,null,d)}return new L(B.Variable,"[import]")}if(e.Val=="class"){let n=this.Read(),r=null;n.Type==Y.SYMBOL&&n.Val==":"?r=this.ParseExpression():this.Stored=n,this.RequireSymbol("{");let i=this.currentthis;this.currentthis={inherited:r};let a=new dn(this.Row,this.Col,this.cs),d=new xe("constructor",B.Variable);return a.vars.push(d),this.ParseScope(a,!0),this.currentthis=i,d.addsuper=r,this.dependencies.push(new ze(new L(B.Variable,"",[],null,null,null,d),this.cs,new L(B.Function,"[tool] {}"))),this.RequireSymbol("}"),new L(B.Class,"",[],a.vars,r)}if(e.Val=="new"){let n=this.ParseCalls(!1);return this.RequireSymbol("("),this.ParseLi(),this.RequireSymbol(")"),new L(B.Variable,"[object : Class]",[],[],n)}}else if(e.Type==Y.STRING){let n=()=>{this.noHoverZones.push({startline:this.lastTrim.line+1,startchar:this.lastTrim.character+2,endline:this.Row,endchar:this.Col-1})},r=e.Val.slice(1,e.Val.length-1);if(e.Val[0]=="'")r=null,this.AddDiagnostic("Strings may not be declared using single quotes!");else for(n();e.Val[e.Val.length-1]=="'";)r=null,this.ParseExpression(),e=this.Read(),e.Type!=Y.STRING?this.AddDiagnostic("Strings may not be ended using single quotes!"):e.Val[0]!="'"?this.AddDiagnostic("String interpolations must begin and end with single quotes!"):n();return new L(B.Variable,r===null||r.length==0?"[string]":`[string : ${r}]`)}else{if(e.Type==Y.NUMBER)return new L(B.Variable,`[number : ${e.Val}]`);if(e.Type==Y.BOOLEAN)return new L(B.Variable,"[boolean]");if(e.Type==Y.KEYWORD)return this.tokendependencies.push(new bt("",[this.Row],[this.Col-e.Val.length],[e.Val],this.cs,null)),new L(L.Reference,"",[e.Val]);if(e.Type==Y.SYMBOL){if(e.Val=="("){let n=this.ParseExpression();return this.RequireSymbol(")"),n}if(e.Val=="[")return this.ParseLi(),this.RequireSymbol("]"),this.arrayEnds.push({line:this.Row-1,character:this.Col-1}),new L(B.Variable,"[array]");if(e.Val=="{"){let n=this.currentthis;this.currentthis={inherited:null};let r=this.ParseScope(null,!0);return this.RequireSymbol("}"),this.currentthis=n,new L(B.Variable,"[object]",[],r.vars)}}}return this.AddDiagnostic(e.Val.length>0?`Could not parse value: ${e.Val}`:"Expected another token!"),new L(B.Variable)}};gc.exports=fn});var Oo=C((km,yc)=>{var Jh=(t,e,n)=>{if(e.propertydeps[":"+n.inner.label]!==void 0)for(let r of e.propertydeps[":"+n.inner.label])mc.dep(r,t)},mc={run:Jh,dep:null};yc.exports=mc});var No=C((Dm,wc)=>{var vc=yt(),Gh=Co(),bc=lr(),Zh=an(),Qh=Oo().run,Xh=he(),Rc=Xh.server2.CompletionItemKind,ep=(t,e,n,r,i,a=null,d=null,v=null,h="",m=!1,R=!1)=>{let P=null;if(a!==null&&(P=_c.dep(t,a,e,R),P===null))return null;let q=null,k=[],x=!1;if(v!==null)q=v;else{let K={stri:"String",tool:"Function",obje:"Object",numb:"Number",bool:"Boolean",arra:"Array"}[h.substring(1,5)];h.length>=5&&K!==void 0||r.length==0||i!==null||P!==null?(q=new vc("",Rc.Variable),q.evaluated=!0,d!==null&&(q.returns=d.returns),P!==null?q.inherited=P:K!==void 0&&(q.inherited=t.protos[K]),i!==null&&(q.properties=i),q.inner.detail=h):(d!==null&&r[0]=="()"?q=d.returns:q=Gh(r[0],n,t.bs),x=!0)}for(let A=x?1:0;A<r.length;A++){let K=null,_="";if(k.length>0&&A>0&&(K=k[k.length-1],_=r[A-1]),!bc(q,e,K,_,R)||q.ignore&&R)return R?k:null;k.push(q),q=r[A]=="()"?q.returns:Zh(r[A],q.properties,q.inherited)}if(k.length>0&&r.length>0){if(m&&r[r.length-1]!="()"&&(q===null||!k[k.length-1].properties.includes(q))){let A=new vc(r[r.length-1],Rc.Variable,"[variable]");k[k.length-1].properties.push(A),Qh(t,k[k.length-1],A),q=A}else if(q===null)return bc(null,e,k[k.length-1],r[r.length-1],R),R?k:null}else if(q===null)return R?k:null;return R&&q.ignore||k.push(q),k},_c={run:ep,dep:null};wc.exports=_c});var Pc=C((Em,qc)=>{var tp=No().run,xo=he();qc.exports=(t,e)=>{let n=[],r=[],i=[],a=[],d=0,v=0;for(let h of t){let m=tp(e,null,h.reference,h.before.concat(h.path),h.baseScope,null,h.linkedscope,h.imported,h.detail,!1,!0);if((h.baseScope!==null||h.imported!==null||h.detail.length>0)&&m.shift(),m===null||m.length>h.before.length+h.path.length)continue;if(m.length==1&&h.lines[0]>=0&&h.chars[0]>=0&&r.indexOf(m[0])==-1)if(h.isDeclarationIfSoWhatsThis===null){let q=n.indexOf(m[0]);r.push(m[0]),q!=-1&&(n.splice(q,1),i.splice(q,1))}else!h.isDeclarationIfSoWhatsThis&&!n.includes(m[0])&&(n.push(m[0]),i.push({line:h.lines[0]-1,character:h.chars[0]-1}));let R=[];for(let P=h.before.length;P<m.length;P++){if(h.lines[P-h.before.length]<0||h.chars[P-h.before.length]<0)continue;let q=[];q.push(h.lines[P-h.before.length]-1-d);let k=h.chars[P-h.before.length]-1;q.push(k-(h.lines[P-h.before.length]-1==d?v:0)),q.push(h.path[P-h.before.length].length);let x=xo.tokenKey.indexOf(m[P].inner.kind);x!=-1&&(q.push(x),q.push(0),d=h.lines[P-h.before.length]-1,v=k,R=R.concat(q))}a=a.concat(R)}for(let h=0;h<n.length;h++)e.diagnostics.push({severity:xo.server2.DiagnosticSeverity.Hint,range:{start:i[h],end:{line:i[h].line,character:i[h].character+n[h].inner.label.length}},message:`Variable "${n[h].inner.label}" is declared but never used!`,source:"Radish Language Server",tags:[xo.server2.DiagnosticTag.Unnecessary]});return a}});var Cc=C((xm,Tc)=>{var ye=he(),np=sr(),rp=Eo(),Om=yt(),Nm=qo(),ip=Lt(),op=ln().run,sp=Pc(),ap=new ip(async t=>{t._lineOffsets===void 0&&t.getLineOffsets(),ye.cached[t.uri]===void 0&&(ye.cached[t.uri]={cs:null,stamp:-1,chain:"",ref:t,tokens:[],noHoverZones:[],bs:null,arrayEnds:[]},ye.importCache[t.uri]!==void 0&&delete ye.importCache[t.uri]);let e=t.version;await new Promise((a,d)=>setTimeout(a,ye.assessTime));let n=t.version;if(e!=n&&!(ye.cached[t.uri]!==void 0&&n-ye.cached[t.uri].stamp>20)||ye.cached[t.uri]!==void 0&&ye.cached[t.uri].stamp==n)return null;let r=new rp(new np(t)),i=null;r.ParseScope(),ye.cached[t.uri].cs=r.cs,ye.cached[t.uri].noHoverZones=r.noHoverZones;for(let a of r.dependencies)op(a,r);return ye.cached[t.uri].tokens=sp(r.tokendependencies,r),ye.cached[t.uri].bs=r.bs,ye.cached[t.uri].arrayEnds=r.arrayEnds,i={uri:t.uri,diagnostics:r.diagnostics},r.CleanUp(),ye.cached[t.uri].stamp=n,i},"assess",null);Tc.exports=ap});var kc=C((Mm,Sc)=>{var{cached:cp,assessTime:up}=he(),lp=Lt(),dp=new lp(async t=>{let e=cp[t.textDocument.uri];if(e===void 0)return{data:[]};let n=e.ref.version,r=e.stamp,i=0;for(;n>r;){if(await new Promise((a,d)=>setTimeout(a,up*2)),i++,i>10)return console.log("Token request cancelled, could not find updated token array!"),{data:[]};r=e.stamp}return{data:e.tokens}},"tokens",{data:[]});Sc.exports=dp});var Ec=C((Fm,Dc)=>{var fp=ir(),hp=rr(),{cached:pp,server2:hr}=he(),gp=Lt(),mp=or(),yp=new gp(t=>{let e=pp[t.textDocument.uri];if(e===void 0)return null;let n=e.cs;if(n===null)return null;let r={line:t.position.line,character:t.position.character+1},i=fp(e.ref,e.noHoverZones,r,!0);if(i===null)return null;let a=hp(e.bs,n,r,i[0],i[1],e.arrayEnds),d=null;if(i[0][0]=="()")d=a.returns;else{let h=mp(a.properties,a.inherited);for(let m of h)m.inner.label==i[0][0]&&(d=m)}if(d===null)return null;let v=`*${d.inner.label}*`;switch(d.inner.kind){case hr.CompletionItemKind.Class:v+=" (class)";break;case hr.CompletionItemKind.Field:v+=" (parameter)";break;case hr.CompletionItemKind.Function:v+=" (function)";break;default:break}return v+=`  
    \`\`\`${d.inner.detail}\`\`\`  
    `,d.inner.documentation.length>0&&(v+=`${d.inner.documentation}  
        `),d.returns!==null&&(v+=`**returns**\`\`\`${d.returns.inner.detail}\`\`\``),{contents:{kind:hr.MarkupKind.Markdown,value:v}}},"hover",null);Dc.exports=yp});var Nc=C((jm,Oc)=>{var Fo=class{constructor(e,n=null){this.val=e,this.next=n}},Mo={")":"(","]":"[","}":"{",'"':'"',"'":"'"},jo=class{constructor(){this.head=null}push(e){this.head=new Fo(e,this.head)}pop(){if(this.head!==null){let e=this.head.val;return this.head=this.head.next,e}return null}add(e){let n=Object.values(Mo).indexOf(e);if(Mo[e]!==void 0&&!(n!=-1&&this.head!==null&&this.head.val==e))return this.push(e),!0;if(n!=-1){let r=Object.keys(Mo)[n];return this.pop()==r}return!0}};Oc.exports=jo});var jc=C((Lm,Fc)=>{var vp=Lt(),{cached:bp,server2:Mc}=he(),Rp=ir(),_p=rr(),wp=or(),qp=Nc(),xc=(t,e,n,r)=>{if(e!=""){let i=e[e.length-1]=="?"?e.slice(0,e.length-1):e,a={label:[n.inner.label.length+9+r-e.length,n.inner.label.length+9+r],documentation:{kind:Mc.MarkupKind.Markdown,value:`parameter name: **${i}**  
                `}};n.params[i]!==void 0?a.documentation.value+=n.params[i]:a.documentation.value+="*No documentation provided.*",e[e.length-1]=="?"&&(a.documentation.value+=`  
            *Note: this parameter is optional.*`),t.push(a)}},tt={signatures:[]},Pp=new vp(t=>{let e=bp[t.textDocument.uri];if(e===void 0)return tt;let n=e.cs;if(n===null||e.ref._lineOffsets===void 0||e.ref._content===void 0)return tt;let r=e.ref._lineOffsets[t.position.line]+t.position.character-1,i={line:t.position.line,character:t.position.character},a=0,d=new qp;for(;r>=0;){let k=e.ref._content[r];if(d.head===null){if(k=="(")break;k==","&&a++}if(!d.add(k))return tt;r--,i.character--,i.character==-1&&(i.line--,i.character=e.ref._lineOffsets[i.line+1]-e.ref._lineOffsets[i.line]-1)}if(d.head!==null||r<0)return tt;i.character--;let v=Rp(e.ref,e.noHoverZones,i);if(v===null)return tt;let h=_p(e.bs,n,i,v[0],v[1],e.arrayEnds),m=null;if(v[0][0]=="()")m=h.returns;else{let k=wp(h.properties,h.inherited);for(let x of k)x.inner.label==v[0][0]&&(m=x)}if(m===null||m.inner.detail.substring(0,6)!="[tool]")return tt;let R=m.inner.detail.substring(8),P=[],q="";for(let k=0;k<R.length;k++){if(R[k]=="}"){xc(P,q,m,k-1);break}R[k]!=" "&&(R[k]==","?(xc(P,q,m,k),q=""):q+=R[k])}return{signatures:[{label:`${m.inner.label} ${m.inner.detail}`,documentation:{kind:Mc.MarkupKind.Markdown,value:`tool name: **${m.inner.label}**  
                    ${m.inner.documentation.length<1?"*No documentation provided.*":m.inner.documentation}  
                    ${m.returns===null?"*No explicit return value.*":`**returns** \`\`\`${m.returns.inner.detail}\`\`\``}`},parameters:P,activeParameter:a}],activeSignature:0,activeParameter:a}},"signature",tt);Fc.exports=Pp});var Ac=C((Im,Wc)=>{var Lc=lr(),Tp=an(),Cp=(t,e,n,r=!1)=>{let i=Ic.dep(t,n,e);if(i===null||(i=i[i.length-1],!Lc(i,n,null,"",r)))return null;let a=Tp("prototype",i.properties,null);return a===null?i:Lc(a,n,i,"prototype",r)?a:null},Ic={run:Cp,dep:null};Wc.exports=Ic});var Hc=C((Wm,Vc)=>{var Sp=Oo(),kp=ln(),Dp=No(),Ep=To(),Op=Ac(),pr=class{constructor(e){this.path=e}handle(){for(let e=0;e<this.path.length;e++){let n=e==this.path.length-1?this.path[0]:this.path[e+1];this.path[e].dep=n.run}}},Np=[new pr([Sp,kp]),new pr([Ep,Dp,Op])];Vc.exports=()=>{for(let t of Np)t.handle()}});var Bc=C((Am,zc)=>{var xp=he(),$c=require("fs/promises"),Mp=require("path"),Fp=Eo(),jp=sr(),Lp=ln().run,Ip=require("url");zc.exports=async()=>{try{let t=Mp.join(__dirname,"../Radish-Standard-Library/").replaceAll("\\","/"),e=await $c.readdir(t,{encoding:"utf-8"});for(let n of e){if(n.includes("."))continue;let r=`${t}${n}/main.rdsh`,i=await $c.readFile(r,{encoding:"utf-8"});r=Ip.pathToFileURL(r).href;let a=new Fp(new jp({_content:i,uri:r}),!0);a.ParseScope();for(let d of a.dependencies)Lp(d,a);n!=="PROTOTYPES"&&(a.cs.returns.inner.label=n,xp.baseScope.push(a.cs.returns)),a.CleanUp()}}catch(t){console.log("Error generating standard library:"),console.log(t)}}});Object.defineProperty(exports,"__esModule",{value:!0});var Wp=Ha(),{documents:Lo,connection:qe,documentSettings:Uc,languageserver:Kc,capabilities:Wt,tokenTypes:Ap,uselib:Vp}=he(),Hp=Cc(),Yc=kc(),$p=Ec(),zp=jc();Hc()();Vp&&Bc()();qe.onInitialize(t=>{let e=t.capabilities;Wt.configuration=!!(e.workspace&&!!e.workspace.configuration),Wt.workspaceFolder=!!(e.workspace&&!!e.workspace.workspaceFolders),Wt.diagnostics=!!(e.textDocument&&e.textDocument.publishDiagnostics&&e.textDocument.publishDiagnostics.relatedInformation);let n={capabilities:{textDocumentSync:Kc.TextDocumentSyncKind.Incremental,completionProvider:{resolveProvider:!0,triggerCharacters:[".",":"]},semanticTokensProvider:{legend:{tokenTypes:Ap,tokenModifiers:[]},range:!0,full:!0},hoverProvider:!0,signatureHelpProvider:{triggerCharacters:["(",","],retriggerCharacters:[","]}}};return Wt.workspaceFolder&&(n.capabilities.workspace={workspaceFolders:{supported:!0}}),n});qe.onInitialized(()=>{console.log("Radish Language Server is starting..."),Wt.configuration&&qe.client.register(Kc.DidChangeConfigurationNotification.type,void 0)});var Jc={maxNumberOfProblems:1e3},Bp=Jc;qe.onDidChangeConfiguration(t=>{Wt.configuration?Uc.clear():Bp=t.settings.radishLanguageServer||Jc});Lo.onDidClose(t=>{Uc.delete(t.document.getText())});Lo.onDidChangeContent(t=>{Hp.execute(t.document).then(e=>{e!==null&&qe.sendDiagnostics(e)})});qe.onSignatureHelp(t=>zp.execute(t));qe.onCompletion(t=>Wp.execute(t));qe.onCompletionResolve(t=>t);qe.languages.semanticTokens.on(t=>Yc.execute(t));qe.languages.semanticTokens.onRange(t=>Yc.execute(t));qe.onHover(t=>$p.execute(t));Lo.listen(qe);qe.listen();
